var lr_port = '###inject_lr_port###';
var weinre_port = '###inject_weinre_port###';
var addr = (location.host || 'localhost').split(':')[0];
document.write('<script src="//' + addr + ':' + lr_port + '/livereload.js?snipver=1"></'+ 'script>');
if(console&&console.debug){
  if(lr_port.indexOf("###") == -1){
    console.debug('### DEVELOPMENT WATCH MODE ###');
    console.debug('# Running Livereload at port ' + lr_port);
  }
  if(weinre_port.indexOf("###") == -1 && weinre_port.length){
    console.debug('# Running Weinre at http://' + addr + ':' + weinre_port + '/client/');
  }
}
if(weinre_port != ''){
  window.WeinreServerURL = '//' + addr + ':'+weinre_port;
  (function(){(function(){function u(n){var s=function(t){if(t.match(/^\.{1,2}\//)){t=p(n,t)}if(a(r,t)){var s=r[t];if(s.__isLoading){if(o){var l=n?n.id:"<root>";console.log("module '"+t+"' recursively require()d from '"+l+"', problem?")}}n.moduleIdsRequired.push(t);return s.exports}if(!a(i,t)){var l=n?n.id:"<root>";d("module '"+t+"' not found from '"+l+"', must be define()'d first")}var c=i[t][0];var h=i[t][1];var s=f(t);var v=u(s);r[t]=s;s.__isLoading=true;try{n.moduleIdsRequired.push(t);var m=[];for(var g=0;g<h.length;g++){var y=h[g];var b;if(y=="require")b=v;else if(y=="exports")b=s.exports;else if(y=="module")b=s;else b=v(y);m.push(b)}if(typeof c=="function"){var w=c.apply(null,m);if(w){s.exports=w}}else{s.exports=c}}finally{s.__isLoading=false}return s.exports};s.define=c;s.implementation=e;s.version=t;return s}function a(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function f(e){return{id:e,uri:e,exports:{},prereqIds:[],moduleIdsRequired:[]}}function l(){r={};i={};s=f(null);var o=u(s);var a=c;a("modjewel",w);n.modjewel=o("modjewel");n.modjewel.require=o;n.modjewel.define=a;n.modjewel.define.amd={implementation:e,version:t}}function c(e,t,n){var r=["require","exports","module"];if(typeof e!="string"){console.log("modjewel.define(): first parameter must be a string; was: "+e);return}if(arguments.length==2){n=t;t=null}if(!t||t.length==0){t=r}if(typeof n!="function"){if(n){i[e]=[n,t];return}console.log("modjewel.define(): factory was falsy: "+n);return}if(e.match(/^\./)){console.log("modjewel.define(): moduleId must not start with '.': '"+moduleName+"'");return}if(a(i,e)){console.log("modjewel.define(): module '"+e+"' has already been defined");return}i[e]=[n,t]}function h(e){if(!e||!e.id)return"";var t=e.id.split("/");return t.slice(0,t.length-1).join("/")}function p(e,t){var n=h(e);var r=""==n?[]:n.split("/");var i=t.split("/");for(var s=0;s<i.length;s++){var o=i[s];if(o=="."){}else if(o==".."){if(r.length>0){r.pop()}else{}}else{r.push(o)}}return r.join("/")}function d(t){throw new Error(e+": "+t)}function v(){var e=[];for(moduleId in r){e.push(moduleId)}return e}function m(){var e=[];for(moduleId in i){e.push(moduleId)}return e}function g(e){if(null==e)return s;return r[e]}function y(e){var t=g(e);if(null==t)return null;return t.moduleIdsRequired.slice()}function b(e){if(arguments.length==0)return o;o=!!e}function w(e,n,r){n.VERSION=t;n.require=null;n.define=null;n.getLoadedModuleIds=v;n.getPreloadedModuleIds=m;n.getModule=g;n.getModuleIdsRequired=y;n.warnOnRecursiveRequire=b}function E(e){console.log("modjewel: "+e)}var e="modjewel";var t="2.0.0";var n=this;if(n.modjewel){E("modjewel global variable already defined");return}n.modjewel=null;var r;var i;var s;var o=false;l()})();modjewel.require("modjewel").warnOnRecursiveRequire(true);modjewel.define("weinre/common/Binding",function(e,t,n){var r,i;i=e("./Ex");n.exports=r=function(){function e(e,t){if(!e){throw new i(arguments,"receiver argument for Binding constructor was null")}if(typeof t==="string"){t=e[t]}if(typeof t===!"function"){throw new i(arguments,"method argument didn't specify a function")}return function(){return t.apply(e,[].slice.call(arguments))}}return e}();e("../common/MethodNamer").setNamesForClass(n.exports)});modjewel.define("weinre/common/Callback",function(e,t,n){var r,i,s,o,u;u=e("./Ex");s={};i=1;o="???";n.exports=r=function(){function t(){throw new u(arguments,"this class is not intended to be instantiated")}t.setConnectorChannel=function(e){return o=""+e};t.register=function(e){var t,n,r,a;if(typeof e==="function"){e=[null,e]}if(typeof e.slice!=="function"){throw new u(arguments,"callback must be an array or function")}a=e[0];n=e[1];t=e.slice(2);if(typeof n==="string"){n=a[n]}if(typeof n!=="function"){throw new u(arguments,"callback function was null or not found")}r=o+"::"+i;i++;if(i>=65536*65536){i=1}s[r]=[a,n,t];return r};t.deregister=function(e){return delete s[e]};t.invoke=function(n,r){var i,o,a,f;i=s[n];if(!i){throw new u(arguments,"callback "+n+" not registered or already invoked")}f=i[0];o=i[1];r=i[2].concat(r);try{return o.apply(f,r)}catch(l){a=o.name||o.signature;if(!a){a="<unnamed>"}return e("./Weinre").logError(arguments.callee.signature+(" exception invoking callback: "+a+"("+r.join(",")+"): ")+l)}finally{t.deregister(n)}};return t}();e("../common/MethodNamer").setNamesForClass(n.exports)});modjewel.define("weinre/common/Debug",function(e,t,n){var r;n.exports=new(r=function(){function e(){this._printCalledArgs={}}e.prototype.log=function(e){var t;t=window.console.__original||window.console;return t.log(""+this.timeStamp()+": "+e)};e.prototype.logCall=function(e,t,n,r,i){var s,o;if(i){i=": "+i}else{i=""}o=this.signature(t,n);s=this._printCalledArgs[o];if(s){r=JSON.stringify(r,null,4)}else{r=""}return this.log(""+e+" "+o+"("+r+")"+i)};e.prototype.logCallArgs=function(e,t){return this._printCalledArgs[this.signature(e,t)]=true};e.prototype.signature=function(e,t){return""+e+"."+t};e.prototype.timeStamp=function(){var e,t,n;e=new Date;t=""+e.getMinutes();n=""+e.getSeconds();if(t.length===1){t="0"+t}if(n.length===1){n="0"+n}return""+t+":"+n};return e}())});modjewel.define("weinre/common/EventListeners",function(e,t,n){var r,s,o;s=e("./Ex");o=e("./Weinre");n.exports=r=function(){function e(){this.listeners=[]}e.prototype.add=function(e,t){return this.listeners.push([e,t])};e.prototype.remove=function(e,t){var n,r,s,o;n=this.listeners.slice();for(r=0,s=n.length;r<s;r++){o=n[r];if(o[0]!==e){continue}if(o[1]!==t){continue}this._listeners.splice(i,1);return}};e.prototype.fire=function(e){var t,n,r,i,u;n=this.listeners.slice();u=[];for(r=0,i=n.length;r<i;r++){t=n[r];t=t[0];if(typeof t==="function"){try{t.call(null,e)}catch(a){o.logError(""+arguments.callee.name+" invocation exception: "+a)}continue}if(typeof (t!=null?t.handleEvent:void 0)!=="function"){throw new s(arguments,"listener does not implement the handleEvent() method")}try{u.push(t.handleEvent.call(t,e))}catch(a){u.push(o.logError(""+arguments.callee.name+" invocation exception: "+a))}}return u};return e}();e("../common/MethodNamer").setNamesForClass(n.exports)});modjewel.define("weinre/common/Ex",function(e,t,n){var r,i,s;i=e("./StackTrace");n.exports=r=function(){function e(t,n){if(!t||!t.callee){throw e(arguments,"first parameter must be an Arguments object")}i.dump(t);if(n instanceof Error){n="threw error: "+n}n=s(t,n);n}e.catching=function(e){try{return e.call(this)}catch(t){console.log("runtime error: "+t);return i.dump(arguments)}};return e}();s=function(e,t){if(e.callee.signature){return e.callee.signature+": "+t}if(e.callee.displayName){return e.callee.displayName+": "+t}if(e.callee.name){return e.callee.name+": "+t}return"<anonymous>"+": "+t};e("../common/MethodNamer").setNamesForClass(n.exports)});modjewel.define("weinre/common/HookLib",function(e,t,n){var r,i,s,o,u,a,f,l,c;r=t;s=[];o=0;n.exports=r=function(){function e(){}e.addHookSite=function(e,t){return l(e,t,true)};e.getHookSite=function(e,t){return l(e,t,false)};e.ignoreHooks=function(e){var t;try{o++;t=e.call()}finally{o--}return t};return e}();l=function(e,t,n){var r,o,u,a;o=0;for(u=0,a=s.length;u<a;u++){r=s[u];if(r.object!==e){continue}if(r.property!==t){continue}return r}if(!n){return null}r=new i(e,t);s.push(r);return r};i=function(){function e(e,t){var n;this.object=e;this.property=t;this.target=e[t];this.hookss=[];if(typeof this.target==="undefined"){return}else{n=c(this.target,this);if(!(navigator.userAgent.match(/MSIE/i)&&(e===localStorage||e===sessionStorage))){e[t]=n}}}e.prototype.addHooks=function(e){return this.hookss.push(e)};e.prototype.removeHooks=function(e){var t,n,r;for(t=n=0,r=this.hookss.length;0<=r?n<=r:n>=r;t=0<=r?++n:--n){if(this.hookss[t]===e){this.hookss.splice(t,1);return}}};return e}();c=function(e,t){var n;n=function(){var n;a(t,this,arguments);try{n=e.apply(this,arguments)}catch(r){f(t,this,arguments,r);throw r}finally{u(t,this,arguments,n)}return n};n.displayName=e.displayName||e.name;return n};a=function(e,t,n){var r,i,s,u,a;if(o>0){return}u=e.hookss;a=[];for(i=0,s=u.length;i<s;i++){r=u[i];if(r.before){a.push(r.before.call(r,t,n))}else{a.push(void 0)}}return a};u=function(e,t,n,r){var i,s,u,a,f;if(o>0){return}a=e.hookss;f=[];for(s=0,u=a.length;s<u;s++){i=a[s];if(i.after){f.push(i.after.call(i,t,n,r))}else{f.push(void 0)}}return f};f=function(e,t,n,r){var i,s,u,a,f;if(o>0){return}a=e.hookss;f=[];for(s=0,u=a.length;s<u;s++){i=a[s];if(i.except){f.push(i.except.call(i,t,n,r))}else{f.push(void 0)}}return f};e("../common/MethodNamer").setNamesForClass(n.exports)});modjewel.define("weinre/common/IDGenerator",function(e,t,n){var r,i,s,o;o=1;i="__weinre__id";n.exports=r=function(){function e(){}e.checkId=function(e){return e[i]};e.getId=function(t,n){var r;r=e.checkId(t);if(!r){r=s();t[i]=r}if(n){n[r]=t}return r};e.next=function(){return s()};return e}();s=function(){var e;e=o;o+=1;return e};e("../common/MethodNamer").setNamesForClass(n.exports)});modjewel.define("weinre/common/IDLTools",function(e,t,n){var r,i,s,o,u;i=e("./Ex");r=e("./Callback");o={};n.exports=s=function(){function t(){throw new i(arguments,"this class is not intended to be instantiated")}t.addIDLs=function(e){var t,n,r,i,s;s=[];for(r=0,i=e.length;r<i;r++){t=e[r];s.push(function(){var e,r,i,s;i=t.interfaces;s=[];for(e=0,r=i.length;e<r;e++){n=i[e];o[n.name]=n;s.push(n.module=t.name)}return s}())}return s};t.getIDL=function(e){return o[e]};t.getIDLsMatching=function(e){var t,n,r;r=[];for(n in o){t=o[n];if(n.match(e)){r.push(t)}}return r};t.validateAgainstIDL=function(n,r){var s,o,u,a,f,l,c,h,p,d,v,m,g,y;a=t.getIDL(r);l="IDL validation for "+r+": ";if(null===a){throw new i(arguments,l+("idl not found: '"+r+"'"))}u=[];g=a.methods;for(p=0,v=g.length;p<v;p++){f=g[p];s=n.prototype[f.name];c=n.name+"::"+f.name;if(null===s){u.push(l+("method not implemented: '"+c+"'"));continue}if(s.length!==f.parameters.length){if(s.length!==f.parameters.length+1){u.push(l+("wrong number of parameters: '"+c+"'"));continue}}}for(h in n.prototype){if(n.prototype.hasOwnProperty(h)){continue}if(h.match(/^_.*/)){continue}c=n.name+"::"+h;if(!a.methods[h]){u.push(l+("method should not be implemented: '"+c+"'"));continue}}if(!u.length){return}y=[];for(d=0,m=u.length;d<m;d++){o=u[d];y.push(e("./Weinre").logError(o))}return y};t.buildProxyForIDL=function(e,n){var r,s,o,a,f,l,c;r=t.getIDL(n);o="building proxy for IDL "+n+": ";if(null===r){throw new i(arguments,o+("idl not found: '"+n+"'"))}l=r.methods;c=[];for(a=0,f=l.length;a<f;a++){s=l[a];c.push(e[s.name]=u(r,s))}return c};return t}();u=function(e,t){var n,i;i=n=function(){var n,i;i=null;n=[].slice.call(arguments);if(n.length>0){if(typeof n[n.length-1]==="function"){i=r.register(n[n.length-1]);n=n.slice(0,n.length-1)}}while(n.length<t.parameters.length){n.push(null)}n.push(i);return this.__invoke(e.name,t.name,n)};i.displayName=e.name+"__"+t.name;return i};e("../common/MethodNamer").setNamesForClass(n.exports)});modjewel.define("weinre/common/MessageDispatcher",function(e,t,n){var r,i,s,o,u,a,f,l,c,h=[].indexOf||function(e){for(var t=0,n=this.length;t<n;t++){if(t in this&&this[t]===e)return t}return-1};c=e("./Weinre");l=e("./WebSocketXhr");o=e("./IDLTools");r=e("./Binding");s=e("./Ex");i=e("./Callback");f=false;u=null;n.exports=a=function(){function e(e,t){if(!t){t="anonymous"}this._url=e;this._id=t;this.error=null;this._opening=false;this._opened=false;this._closed=false;this._interfaces={};this._open()}e.setInspectorBackend=function(e){return u=e};e.verbose=function(e){if(arguments.length>=1){f=!!e}return f};e.prototype._open=function(){if(this._opened||this._opening){return}if(this._closed){throw new s(arguments,"socket has already been closed")}this._opening=true;this._socket=new l(this._url,this._id);this._socket.addEventListener("open",r(this,"_handleOpen"));this._socket.addEventListener("error",r(this,"_handleError"));this._socket.addEventListener("message",r(this,"_handleMessage"));return this._socket.addEventListener("close",r(this,"_handleClose"))};e.prototype.close=function(){if(this._closed){return}this._opened=false;this._closed=true;return this._socket.close()};e.prototype.send=function(e){return this._socket.send(e)};e.prototype.getWebSocket=function(){return this._socket};e.prototype.registerInterface=function(e,t,n){if(n){o.validateAgainstIDL(t.constructor,e)}if(this._interfaces[e]){throw new s(arguments,"interface "+e+" has already been registered")}return this._interfaces[e]=t};e.prototype.createProxy=function(e){var t,n,r;t={};o.buildProxyForIDL(t,e);n=this;t.__invoke=r=function(e,t,r){return n._sendMethodInvocation(e,t,r)};return t};e.prototype._sendMethodInvocation=function(e,t,n){var r;if(typeof e!=="string"){throw new s(arguments,"expecting intf parameter to be a string")}if(typeof t!=="string"){throw new s(arguments,"expecting method parameter to be a string")}r={"interface":e,method:t,args:n};r=JSON.stringify(r);this._socket.send(r);if(f){return c.logDebug(this.constructor.name+("["+this._url+"]: send "+e+"."+t+"("+JSON.stringify(n)+")"))}};e.prototype.getState=function(){if(this._opening){return"opening"}if(this._opened){return"opened"}if(this._closed){return"closed"}return"unknown"};e.prototype.isOpen=function(){return this._opened===true};e.prototype._handleOpen=function(e){this._opening=false;this._opened=true;this.channel=e.channel;i.setConnectorChannel(this.channel);if(f){return c.logDebug(this.constructor.name+("["+this._url+"]: opened"))}};e.prototype._handleError=function(e){this.error=e;this.close();if(f){return c.logDebug(this.constructor.name+("["+this._url+"]: error: ")+e)}};e.prototype._handleMessage=function(e){var t,n,r,i,o,a,l,p;p=["domContentEventFired","loadEventFired","childNodeRemoved"];try{n=JSON.parse(e.data)}catch(d){throw new s(arguments,"invalid JSON data received: "+d+": '"+e.data+"'")}i=n["interface"];a=n.method;t=n.args;l=""+i+"."+a+"()";r=this._interfaces.hasOwnProperty(i)&&this._interfaces[i];if(!r&&u&&i.match(/.*Notify/)){r=u.getRegisteredDomainDispatcher(i.substr(0,i.length-6))}if(!r){c.notImplemented("weinre: request for non-registered interface: "+l);return}l=r.constructor.name+("."+a+"()");o=r[a];if(typeof o!=="function"){c.notImplemented(l);return}try{o.apply(r,t)}catch(d){if(h.call(p,a)<0){c.logError("weinre: invocation exception on "+l+": "+d)}}if(f){return c.logDebug(this.constructor.name+("["+this._url+"]: recv "+i+"."+a+"("+JSON.stringify(t)+")"))}};e.prototype._handleClose=function(){this._reallyClosed=true;if(f){return c.logDebug(this.constructor.name+("["+this._url+"]: closed"))}};return e}();e("../common/MethodNamer").setNamesForClass(n.exports)});modjewel.define("weinre/common/MethodNamer",function(e,t,n){var r,i={}.hasOwnProperty;n.exports=r=function(){function e(){}e.setNamesForClass=function(e){var t,n,r,s;for(t in e){if(!i.call(e,t))continue;n=e[t];if(typeof n==="function"){n.signature=""+e.name+"::"+t;n.displayName=t;n.name=t}}r=e.prototype;s=[];for(t in r){if(!i.call(r,t))continue;n=r[t];if(typeof n==="function"){n.signature=""+e.name+"."+t;n.displayName=t;s.push(n.name=t)}else{s.push(void 0)}}return s};return e}();r.setNamesForClass(n.exports)});modjewel.define("weinre/common/StackTrace",function(e,t,n){var r,i;n.exports=r=function(){function e(e){if(!e||!e.callee){throw Error("first parameter to "+arguments.callee.signature+" must be an Arguments object")}this.trace=i(e)}e.dump=function(t){var n;t=t||arguments;n=new e(t);return n.dump()};e.prototype.dump=function(){var e,t,n,r,i;console.log("StackTrace:");r=this.trace;i=[];for(t=0,n=r.length;t<n;t++){e=r[t];i.push(console.log("    "+e))}return i};return e}();i=function(e){var t,n,r;n=[];r=[];t=e.callee;while(t){if(t.signature){n.push(t.signature)}else if(t.displayName){n.push(t.displayName)}else if(t.name){n.push(t.name)}else{n.push("<anonymous>")}if(-1!==r.indexOf(t)){n.push("... recursion");return n}r.push(t);try{t=t.caller}catch(i){t=null}}return n};e("../common/MethodNamer").setNamesForClass(n.exports)});modjewel.define("weinre/common/WebSocketXhr",function(e,t,n){var r,i,s,o,u,a;i=e("./Ex");u=e("./Weinre");s=e("./HookLib");r=e("./EventListeners");n.exports=o=function(){function e(e,t){this.initialize(e,t)}e.CONNECTING=0;e.OPEN=1;e.CLOSING=2;e.CLOSED=3;e.prototype.initialize=function(t,n){if(!n){n="anonymous"}this.readyState=e.CONNECTING;this._url=t;this._id=n;this._urlChannel=null;this._queuedSends=[];this._sendInProgress=true;this._listeners={open:new r,message:new r,error:new r,close:new r};return this._getChannel()};e.prototype._getChannel=function(){var e;e=JSON.stringify({id:this._id});return this._xhr(this._url,"POST",e,this._handleXhrResponseGetChannel)};e.prototype._handleXhrResponseGetChannel=function(t){var n;if(t.status!==200){return this._handleXhrResponseError(t)}try{n=JSON.parse(t.responseText)}catch(r){this._fireEventListeners("error",{message:"non-JSON response from channel open request"});this.close();return}if(!n.channel){this._fireEventListeners("error",{message:"channel open request did not include a channel"});this.close();return}this._urlChannel=this._url+"/"+n.channel;this.readyState=e.OPEN;this._fireEventListeners("open",{message:"open",channel:n.channel});this._sendInProgress=false;this._sendQueued();return this._readLoop()};e.prototype._readLoop=function(){if(this.readyState===e.CLOSED){return}if(this.readyState===e.CLOSING){return}return this._xhr(this._urlChannel,"GET","",this._handleXhrResponseGet)};e.prototype._handleXhrResponseGet=function(t){var n,r,i,o,u,a;i=this;if(t.status!==200){return this._handleXhrResponseError(t)}try{r=JSON.parse(t.responseText)}catch(f){this.readyState=e.CLOSED;this._fireEventListeners("error",{message:"non-JSON response from read request"});return}s.ignoreHooks(function(){return setTimeout(function(){return i._readLoop()},0)});a=[];for(o=0,u=r.length;o<u;o++){n=r[o];a.push(i._fireEventListeners("message",{data:n}))}return a};e.prototype.send=function(e){if(typeof e!=="string"){throw new i(arguments,this.constructor.name+".send")}this._queuedSends.push(e);if(this._sendInProgress){return}return this._sendQueued()};e.prototype._sendQueued=function(){var t;if(this._queuedSends.length===0){return}if(this.readyState===e.CLOSED){return}if(this.readyState===e.CLOSING){return}t=JSON.stringify(this._queuedSends);this._queuedSends=[];this._sendInProgress=true;return this._xhr(this._urlChannel,"POST",t,this._handleXhrResponseSend)};e.prototype._handleXhrResponseSend=function(e){var t;t=this;if(e.status!==200){return this._handleXhrResponseError(e)}this._sendInProgress=false;return s.ignoreHooks(function(){return setTimeout(function(){return t._sendQueued()},0)})};e.prototype.close=function(){this._sendInProgress=true;this.readyState=e.CLOSING;this._fireEventListeners("close",{message:"closing",wasClean:true});return this.readyState=e.CLOSED};e.prototype.addEventListener=function(e,t,n){return this._getListeners(e).add(t,n)};e.prototype.removeEventListener=function(e,t,n){return this._getListeners(e).remove(t,n)};e.prototype._fireEventListeners=function(t,n){if(this.readyState===e.CLOSED){return}n.target=this;return this._getListeners(t).fire(n)};e.prototype._getListeners=function(e){var t;t=this._listeners[e];if(null===t){throw new i(arguments,"invalid event listener type: '"+e+"'")}return t};e.prototype._handleXhrResponseError=function(e){if(e.status===404){this.close();return}this._fireEventListeners("error",{target:this,status:e.status,message:"error from XHR invocation: "+e.statusText});return u.logError("error from XHR invocation: "+e.status+": "+e.statusText)};e.prototype._xhr=function(e,t,n,r){var o;if(null===r){throw new i(arguments,"handler must not be null")}o=XMLHttpRequest.noConflict?new XMLHttpRequest.noConflict:new XMLHttpRequest;o.httpSocket=this;o.httpSocketHandler=r;o.onreadystatechange=a;s.ignoreHooks(function(){return o.open(t,e,true)});o.setRequestHeader("Content-Type","text/plain");return s.ignoreHooks(function(){return o.send(n)})};return e}();a=function(e){var t;t=e.target;if(t.readyState!==4){return}return t.httpSocketHandler.call(t.httpSocket,t)};e("../common/MethodNamer").setNamesForClass(n.exports)});modjewel.define("weinre/common/Weinre",function(e,t,n){var r,i,s,o,u,a,f,l,c,h;i=e("./Ex");s=e("./IDLTools");o=e("./StackTrace");c={};h=false;l=null;n.exports=u=function(){function e(){throw new i(arguments,"this class is not intended to be instantiated")}e.addIDLs=function(e){return s.addIDLs(e)};e.deprecated=function(){return o.dump(arguments)};e.notImplemented=function(t){if(c[t]){return}c[t]=true;if(!h){return}return e.logWarning(t+" not implemented")};e.showNotImplemented=function(){var t,n;h=true;n=[];for(t in c){n.push(e.logWarning(t+" not implemented"))}return n};e.logError=function(e){return f().logError(e)};e.logWarning=function(e){return f().logWarning(e)};e.logInfo=function(e){return f().logInfo(e)};e.logDebug=function(e){return f().logDebug(e)};return e}();r=function(){function e(){}e.prototype.logError=function(e){return console.log("error: "+e)};e.prototype.logWarning=function(e){return console.log("warning: "+e)};e.prototype.logInfo=function(e){return console.log("info: "+e)};e.prototype.logDebug=function(e){return console.log("debug: "+e)};return e}();a=new r;f=function(){if(l){return l}if(u.client){l=u.WeinreClientCommands;return l}if(u.target){l=u.WeinreTargetCommands;return l}return a};e("../common/MethodNamer").setNamesForClass(n.exports)});modjewel.define("weinre/target/BrowserHacks",function(e,t,n){var r;r=function(){if(typeof document.addEventListener==="undefined"){alert("Oops. It seems the page runs in compatibility mode. Please fix it and try again.");return}if(typeof window.Element==="undefined"){window.Element=function(){}}if(typeof window.Node==="undefined"){window.Node=function(){}}if(!Object.getPrototypeOf){Object.getPrototypeOf=function(e){if(!e.__proto__){throw new Error("This vm does not support __proto__ and getPrototypeOf. Script requires any of them to operate correctly.")}return e.__proto__}}};r()});modjewel.define("weinre/target/CheckForProblems",function(e,t,n){var r,i;n.exports=r=function(){function e(){}e.check=function(){return i()};return e}();i=function(){var e;e=false;if(typeof Prototype==="undefined"){return}if(!Prototype.Version){return}if(Prototype.Version.match(/^1\.5.*/)){e=true}if(Prototype.Version.match(/^1\.6.*/)){e=true}if(e){return alert("Sorry, weinre is not support in versions of Prototype earlier than 1.7")}};e("../common/MethodNamer").setNamesForClass(n.exports)});modjewel.define("weinre/target/Console",function(e,t,n){var r,i,s,o,u,a,f,l,c;c=e("../common/Weinre");f=e("../target/Timeline");l=false;a=null;u=null;s={HTML:0,WML:1,XML:2,JS:3,CSS:4,Other:5};o={Log:0,Object:1,Trace:2,StartGroup:3,StartGroupCollapsed:4,EndGroup:5,Assert:6,UncaughtException:7,Result:8};i={Tip:0,Log:1,Warning:2,Error:3,Debug:4};n.exports=r=function(){function e(){}Object.defineProperty(e,"original",{get:function(){return u}});e.useRemote=function(e){var t;if(arguments.length===0){return l}t=l;l=!!e;if(l){window.console=a}else{window.console=u}return t};e.prototype._generic=function(e,t){var n,r,i,u,a,f;n=t[0].toString();i=[];for(a=0,f=t.length;a<f;a++){r=t[a];i.push(c.injectedScript.wrapObjectForConsole(r,true))}u={source:s.JS,type:o.Log,level:e,message:n,parameters:i};return c.wi.ConsoleNotify.addConsoleMessage(u)};e.prototype.log=function(){return this._generic(i.Log,[].slice.call(arguments))};e.prototype.debug=function(){return this._generic(i.Debug,[].slice.call(arguments))};e.prototype.error=function(){return this._generic(i.Error,[].slice.call(arguments))};e.prototype.info=function(){return this._generic(i.Log,[].slice.call(arguments))};e.prototype.warn=function(){return this._generic(i.Warning,[].slice.call(arguments))};e.prototype.dir=function(){return c.notImplemented(arguments.callee.signature)};e.prototype.dirxml=function(){return c.notImplemented(arguments.callee.signature)};e.prototype.trace=function(){return c.notImplemented(arguments.callee.signature)};e.prototype.assert=function(e){return c.notImplemented(arguments.callee.signature)};e.prototype.count=function(){return c.notImplemented(arguments.callee.signature)};e.prototype.markTimeline=function(e){return f.addRecord_Mark(e)};e.prototype.lastWMLErrorMessage=function(){return c.notImplemented(arguments.callee.signature)};e.prototype.profile=function(e){return c.notImplemented(arguments.callee.signature)};e.prototype.profileEnd=function(e){return c.notImplemented(arguments.callee.signature)};e.prototype.time=function(e){return c.notImplemented(arguments.callee.signature)};e.prototype.timeEnd=function(e){return c.notImplemented(arguments.callee.signature)};e.prototype.group=function(){return c.notImplemented(arguments.callee.signature)};e.prototype.groupCollapsed=function(){return c.notImplemented(arguments.callee.signature)};e.prototype.groupEnd=function(){return c.notImplemented(arguments.callee.signature)};return e}();a=new r;u=window.console||{};a.__original=u;u.__original=u;e("../common/MethodNamer").setNamesForClass(n.exports)});modjewel.define("weinre/target/CSSStore",function(e,t,n){var r,i,s,o,u,a,f,l,c,h;i=e("../common/IDGenerator");s=e("../common/Weinre");o=null;n.exports=r=function(){function e(){this.styleSheetMap={};this.styleRuleMap={};this.styleDeclMap={};this.testElement=document.createElement("div")}e.prototype.getInlineStyle=function(e){var t,n,r,i,s;n=this._buildMirrorForStyle(e.style,true);s=n.cssProperties;for(r=0,i=s.length;r<i;r++){t=s[r];t.status="style"}return n};e.prototype.getComputedStyle=function(e){var t;if(!e){return{}}if(e.nodeType!==Node.ELEMENT_NODE){return{}}t=this._buildMirrorForStyle(window.getComputedStyle(e),false);return t};e.prototype.getMatchedCSSRules=function(e){var t,n,r,i,s,u,a,f,l,c;r=[];try{l=document.styleSheets;for(s=0,a=l.length;s<a;s++){i=l[s];if(!i.cssRules){continue}c=i.cssRules;for(u=0,f=c.length;u<f;u++){t=c[u];if(!o(e,t.selectorText)){continue}n={};n.ruleId=this._getStyleRuleId(t);n.selectorText=t.selectorText;n.style=this._buildMirrorForStyle(t.style,true);r.push(n)}}}catch(h){return r}return r};e.prototype.getStyleAttributes=function(e){var t;t={};return t};e.prototype.getPseudoElements=function(e){var t;t=[];return t};e.prototype.setPropertyText=function(e,t,n,r){var i,o,u,a,f,l,c,h;h=s.cssStore._getStyleDecl(e);if(!h){s.logWarning("requested style not available: "+e);return null}a=h.__weinre__mirror;if(!a){s.logWarning("requested mirror not available: "+e);return null}f=a.cssProperties;c=this._parseProperty(n);if(null===c){this._removePropertyFromMirror(a,t);f=a.cssProperties}else{this._removePropertyFromMirror(a,t);f=a.cssProperties;l={};o=0;while(o<f.length){l[f[o].name]=o;o++}o=0;while(o<c.cssProperties.length){if(l[c.cssProperties[o].name]!=null){f[l[c.cssProperties[o].name]]=c.cssProperties[o]}else{f.push(c.cssProperties[o])}o++}for(u in c.shorthandValues){a.shorthandValues[u]=c.shorthandValues[u]}}f.sort(i=function(e,t){if(e.name<t.name){return-1}else if(e.name>t.name){return 1}else{return 0}});this._setStyleFromMirror(h);return a};e.prototype._removePropertyFromMirror=function(e,t){var n,r,i,s;i=e.cssProperties;if(t>=i.length){return}s=i[t];i[t]=null;if(e.shorthandValues[s.name]){delete e.shorthandValues[s.name];n=0;while(n<i.length){if(i[n]){if(i[n].shorthandName===s.name){i[n]=null}}n++}}r=[];n=0;while(n<i.length){if(i[n]){r.push(i[n])}n++}return e.cssProperties=r};e.prototype.toggleProperty=function(e,t,n){var r,i,o;o=s.cssStore._getStyleDecl(e);if(!o){s.logWarning("requested style not available: "+e);return null}i=o.__weinre__mirror;if(!i){s.logWarning("requested mirror not available: "+e);return null}r=i.cssProperties[t];if(!r){s.logWarning("requested property not available: "+e+": "+t);return null}if(n){r.status="disabled"}else{r.status="active"}this._setStyleFromMirror(o);return i};e.prototype._setStyleFromMirror=function(e){var t,n,r,i,s;n=[];t=e.__weinre__mirror.cssProperties;n="";for(i=0,s=t.length;i<s;i++){r=t[i];if(!r.parsedOk){continue}if(r.status==="disabled"){continue}if(r.shorthandName){continue}n+=r.name+": "+r.value;if(r.priority==="important"){n+=" !important; "}else{n+="; "}}return e.cssText=n};e.prototype._buildMirrorForStyle=function(e,t){var n,r,i,s,o,u;o={properties:{},cssProperties:[]};if(!e){return o}if(t){o.styleId=this._getStyleDeclId(e);e.__weinre__mirror=o}o.properties.width=e.getPropertyValue("width")||"";o.properties.height=e.getPropertyValue("height")||"";o.cssText=e.cssText;o.shorthandValues={};i=[];if(e){n=0;while(n<e.length){s={};r=e.item(n);s.name=r;s.priority=e.getPropertyPriority(r);s.implicit=typeof e.isPropertyImplicit!=="undefined"?e.isPropertyImplicit(r):true;s.shorthandName=typeof e.getPropertyShorthand!=="undefined"?e.getPropertyShorthand(r)||"":"";s.status=s.shorthandName?"style":"active";s.parsedOk=true;s.value=e.getPropertyValue(r);i.push(s);if(s.shorthandName){u=s.shorthandName;if(!o.shorthandValues[u]){o.shorthandValues[u]=e.getPropertyValue(u);s={};s.name=u;s.priority=e.getPropertyPriority(u);s.implicit=e.isPropertyImplicit(u);s.shorthandName="";s.status="active";s.parsedOk=true;s.value=e.getPropertyValue(r);i.push(s)}}n++}}i.sort(function(e,t){if(e.name<t.name){return-1}else if(e.name>t.name){return 1}else{return 0}});o.cssProperties=i;return o};e.prototype._parseProperty=function(e){var t,n,r,i,s;s=this.testElement.style;try{s.cssText=e;if(s.cssText!==""){return this._buildMirrorForStyle(s,false)}}catch(o){}r=/\s*(.+)\s*:\s*(.+)\s*(!important)?\s*;/;t=r.exec(e);if(!t){return null}t[3]=t[3]==="!important"?"important":"";n={};n.name=t[1];n.priority=t[3];n.implicit=true;n.shorthandName="";n.status="inactive";n.parsedOk=false;n.value=t[2];i={};i.width=0;i.height=0;i.shorthandValues=0;i.cssProperties=[n];return i};e.prototype._getStyleSheet=function(e){return f(e,this.styleSheetMap)};e.prototype._getStyleSheetId=function(e){return a(e,this.styleSheetMap)};e.prototype._getStyleRule=function(e){return f(e,this.styleRuleMap)};e.prototype._getStyleRuleId=function(e){return a(e,this.styleRuleMap)};e.prototype._getStyleDecl=function(e){return f(e,this.styleDeclMap)};e.prototype._getStyleDeclId=function(e){return a(e,this.styleDeclMap)};return e}();f=function(e,t){return t[e]};a=function(e,t){return i.getId(e,t)};l=function(e,t){if(!e.mozMatchesSelector){return false}return e.mozMatchesSelector(t)};h=function(e,t){if(!e.webkitMatchesSelector){return false}return e.webkitMatchesSelector(t)};c=function(e,t){if(!e.msMatchesSelector){return false}return e.msMatchesSelector(t)};u=function(e,t){return false};if(Element.prototype.webkitMatchesSelector){o=h}else if(Element.prototype.mozMatchesSelector){o=l}else if(Element.prototype.msMatchesSelector){o=c}else{o=u}e("../common/MethodNamer").setNamesForClass(n.exports)});modjewel.define("weinre/target/ElementHighlighter",function(e,t,n){var r,i,s,o,u,a,f;i=null;a=null;s=null;n.exports=r=function(){function t(){this.hElement=this.createHighlighterElement();this.hElement.__weinreHighlighter=true;this.hElement.style.display="none";this.hElement.style.zIndex=10*1e3*1e3;if(s){document.body.removeChild(s)}s=this.hElement;document.body.appendChild(this.hElement)}t.create=function(){if(a==null){a=e("./ElementHighlighterDivs2")}return new a};t.prototype.on=function(e){if(null===e){return}if(e.nodeType!==Node.ELEMENT_NODE){return}this.redraw(u(e));return this.hElement.style.display="block"};t.prototype.off=function(){return this.hElement.style.display="none"};return t}();u=function(e){var t,n,r,i,s;i={};r=0;s=0;n=e;while(true){r+=n.offsetLeft;s+=n.offsetTop;if(!(n=n.offsetParent)){break}}i.x=r;i.y=s;t=document.defaultView.getComputedStyle(e);i.width=e.offsetWidth;i.height=e.offsetHeight;i.marginLeft=o(t["margin-left"]||t["marginLeft"]);i.marginRight=o(t["margin-right"]||t["marginRight"]);i.marginTop=o(t["margin-top"]||t["marginTop"]);i.marginBottom=o(t["margin-bottom"]||t["marginBottom"]);i.borderLeft=o(t["border-left-width"]||t["borderLeftWidth"]);i.borderRight=o(t["border-right-width"]||t["borderRightWidth"]);i.borderTop=o(t["border-top-width"]||t["borderTopWidth"]);i.borderBottom=o(t["border-bottom-width"]||t["borderBottomWidth"]);i.paddingLeft=o(t["padding-left"]||t["paddingLeft"]);i.paddingRight=o(t["padding-right"]||t["paddingRight"]);i.paddingTop=o(t["padding-top"]||t["paddingTop"]);i.paddingBottom=o(t["padding-bottom"]||t["paddingBottom"]);i.x-=i.marginLeft;i.y-=i.marginTop;return i};o=function(e){return parseInt(e.replace(/px$/,""))};f=function(){var e;e=document.createElement("canvas");if(!e.getContext){return false}if(e.getContext("2d")){return true}return false};e("../common/MethodNamer").setNamesForClass(n.exports)});modjewel.define("weinre/target/ElementHighlighterDivs2",function(e,t,n){var r,i,s,o,u,a,f,l={}.hasOwnProperty,c=function(e,t){function r(){this.constructor=e}for(var n in t){if(l.call(t,n))e[n]=t[n]}r.prototype=t.prototype;e.prototype=new r;e.__super__=t.prototype;return e};u=e("./ElementHighlighter");s="rgba(246, 178, 107, 0.66)";r="rgba(255, 229, 153, 0.66)";o="rgba(147, 196, 125, 0.55)";i="rgba(111, 168, 220, 0.66)";r="rgba(255, 255, 153, 0.40)";o="rgba(  0, 255,   0, 0.20)";i="rgba(  0,   0, 255, 0.30)";n.exports=a=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}c(t,e);t.prototype.createHighlighterElement=function(){this.hElement1=document.createElement("weinreHighlighter");this.hElement1.style.position="absolute";this.hElement1.style.overflow="hidden";this.hElement2=document.createElement("weinreHighlighter");this.hElement2.style.position="absolute";this.hElement2.style.display="block";this.hElement2.style.overflow="hidden";this.hElement1.appendChild(this.hElement2);this.hElement1.style.borderTopStyle="solid";this.hElement1.style.borderLeftStyle="solid";this.hElement1.style.borderBottomStyle="solid";this.hElement1.style.borderRightStyle="solid";this.hElement1.style.borderTopColor=s;this.hElement1.style.borderLeftColor=s;this.hElement1.style.borderBottomColor=s;this.hElement1.style.borderRightColor=s;this.hElement1.style.backgroundColor=r;this.hElement2.style.borderTopStyle="solid";this.hElement2.style.borderLeftStyle="solid";this.hElement2.style.borderBottomStyle="solid";this.hElement2.style.borderRightStyle="solid";this.hElement2.style.borderTopColor=o;this.hElement2.style.borderLeftColor=o;this.hElement2.style.borderBottomColor=o;this.hElement2.style.borderRightColor=o;this.hElement2.style.backgroundColor=i;this.hElement1.style.outline="black solid thin";return this.hElement1};t.prototype.redraw=function(e){this.hElement1.style.top=f(e.y);this.hElement1.style.left=f(e.x);this.hElement1.style.height=f(e.height);this.hElement1.style.width=f(e.width);this.hElement1.style.borderTopWidth=f(e.marginTop);this.hElement1.style.borderLeftWidth=f(e.marginLeft);this.hElement1.style.borderBottomWidth=f(e.marginBottom);this.hElement1.style.borderRightWidth=f(e.marginRight);this.hElement2.style.top=f(e.borderTop);this.hElement2.style.left=f(e.borderLeft);this.hElement2.style.bottom=f(e.borderBottom);this.hElement2.style.right=f(e.borderRight);this.hElement2.style.borderTopWidth=f(e.paddingTop);this.hElement2.style.borderLeftWidth=f(e.paddingLeft);this.hElement2.style.borderBottomWidth=f(e.paddingBottom);return this.hElement2.style.borderRightWidth=f(e.paddingRight)};return t}(u);f=function(e){return""+e+"px"};e("../common/MethodNamer").setNamesForClass(n.exports)});modjewel.define("weinre/target/HookSites",function(e,t,n){var r,i;r=e("../common/HookLib");n.exports=i=function(){function e(){}return e}();i.window_clearInterval=r.addHookSite(window,"clearInterval");i.window_clearTimeout=r.addHookSite(window,"clearTimeout");i.window_setInterval=r.addHookSite(window,"setInterval");i.window_setTimeout=r.addHookSite(window,"setTimeout");i.window_addEventListener=r.addHookSite(window,"addEventListener");i.Node_addEventListener=r.addHookSite(Node.prototype,"addEventListener");i.XMLHttpRequest_open=r.addHookSite(XMLHttpRequest.prototype,"open");i.XMLHttpRequest_send=r.addHookSite(XMLHttpRequest.prototype,"send");i.XMLHttpRequest_addEventListener=r.addHookSite(XMLHttpRequest.prototype,"addEventListener");if(window.openDatabase){i.window_openDatabase=r.addHookSite(window,"openDatabase")}if(window.localStorage){i.LocalStorage_setItem=r.addHookSite(window.localStorage,"setItem");i.LocalStorage_removeItem=r.addHookSite(window.localStorage,"removeItem");i.LocalStorage_clear=r.addHookSite(window.localStorage,"clear")}if(window.sessionStorage){i.SessionStorage_setItem=r.addHookSite(window.sessionStorage,"setItem");i.SessionStorage_removeItem=r.addHookSite(window.sessionStorage,"removeItem");i.SessionStorage_clear=r.addHookSite(window.sessionStorage,"clear")}e("../common/MethodNamer").setNamesForClass(n.exports)});var injectedScriptConstructor=function(InjectedScriptHost,inspectedWindow,injectedScriptId){function bind(e,t){function i(){return n.apply(e,r.concat(Array.prototype.slice.call(arguments,0)))}var n=t;var r=Array.prototype.slice.call(arguments,2);i.toString=function(){return"bound: "+n};return i}function CommandLineAPI(e,t){function n(e){if(!t)return false;var n=t.scopeChain;for(var r=0;r<n.length;++r){if(e in n[r])return true}return false}for(var r=0;r<CommandLineAPI.members_.length;++r){var i=CommandLineAPI.members_[r];if(i in inspectedWindow||n(i))continue;this[i]=bind(e,e[i])}for(var r=0;r<5;++r){var i="$"+r;if(i in inspectedWindow||n(i))continue;Object.defineProperty(this,"$"+r,{get:bind(e,e._inspectedNode,r)})}}function CommandLineAPIImpl(){}var InjectedScript=function(){this._lastBoundObjectId=1;this._idToWrappedObject={};this._objectGroups={}};InjectedScript.prototype={wrapObjectForConsole:function(e,t){if(t)return this._wrapObject(e,"console");var n={};n.type=typeof e;n.description=this._toString(e);return n},_wrapObject:function(e,t,n){try{var r;if(typeof e==="object"||typeof e==="function"||this._isHTMLAllCollection(e)){var i=this._lastBoundObjectId++;this._idToWrappedObject[i]=e;var s=this._objectGroups[t];if(!s){s=[];this._objectGroups[t]=s}s.push(i);r={injectedScriptId:injectedScriptId,id:i,groupName:t}}return InjectedScript.RemoteObject.fromObject(e,r,n)}catch(o){return InjectedScript.RemoteObject.fromObject("[ Exception: "+o.toString()+" ]")}},_parseObjectId:function(objectId){return eval("("+objectId+")")},releaseWrapperObjectGroup:function(e){var t=this._objectGroups[e];if(!t)return;for(var n=0;n<t.length;n++)delete this._idToWrappedObject[t[n]];delete this._objectGroups[e]},dispatch:function(methodName,args){var argsArray=eval("("+args+")");var result=this[methodName].apply(this,argsArray);if(typeof result==="undefined"){inspectedWindow.console.error("Web Inspector error: InjectedScript.%s returns undefined",methodName);result=null}return result},getProperties:function(e,t,n){var r=this._parseObjectId(e);var i=this._objectForId(r);if(!this._isDefined(i))return false;var s=[];var o;if(window.navigator.userAgent.indexOf("MSIE")!=-1){o=this._getPropertyNames(i)}else o=t?this._getPropertyNames(i):Object.getOwnPropertyNames(i);if(!t&&i.__proto__)o.push("__proto__");for(var u=0;u<o.length;++u){var a=o[u];var f={};f.name=a+"";var l=i["__lookupGetter__"]&&i.__lookupGetter__(a);if(!l){try{f.value=this._wrapObject(i[a],r.groupName,n)}catch(c){f.value=new InjectedScript.RemoteObject.fromException(c)}}else{f.value=new InjectedScript.RemoteObject.fromObject("—");f.isGetter=true}s.push(f)}return s},setPropertyValue:function(e,t,n){var r=this._parseObjectId(e);var i=this._objectForId(r);if(!this._isDefined(i))return false;var s=n.length;if(!s){delete i[t];return!(t in i)}try{var o=inspectedWindow.eval("("+n+")");i[t]=o;return true}catch(u){try{var o=inspectedWindow.eval('"'+n.replace(/"/g,'\\"')+'"');i[t]=o;return true}catch(u){return false}}},_populatePropertyNames:function(e,t){for(var n=e;n;n=Object.getPrototypeOf(n)){try{var r=Object.getOwnPropertyNames(n);for(var i=0;i<r.length;++i)t[r[i]]=true}catch(s){}}},_getPropertyNames:function(e,t){var n={};this._populatePropertyNames(e,n);return Object.keys(n)},getCompletions:function(e,t){var n={};try{if(!e)e="this";var r=this._evaluateOn(inspectedWindow.eval,inspectedWindow,e,false,false);if(typeof r==="object")this._populatePropertyNames(r,n);if(t){for(var i in CommandLineAPI.members_)n[CommandLineAPI.members_[i]]=true}}catch(s){}return n},getCompletionsOnCallFrame:function(e,t,n){var r={};try{var i=this._callFrameForId(e);if(!i)return r;if(t){var s=this._evaluateOn(i.evaluate,i,t,true,false);if(typeof s==="object")this._populatePropertyNames(s,r)}else{var o=i.scopeChain;for(var u=0;u<o.length;++u)this._populatePropertyNames(o[u],r)}if(n){for(var a in CommandLineAPI.members_)r[CommandLineAPI.members_[a]]=true}}catch(f){}return r},evaluate:function(e,t,n){return this._evaluateAndWrap(inspectedWindow.eval,inspectedWindow,e,t,false,n)},_evaluateAndWrap:function(e,t,n,r,i,s){try{return this._wrapObject(this._evaluateOn(e,t,n,i,s),r)}catch(o){return InjectedScript.RemoteObject.fromException(o)}},_evaluateOn:function(e,t,n,r,i){try{if(i&&inspectedWindow.console){inspectedWindow.console._commandLineAPI=new CommandLineAPI(this._commandLineAPIImpl,r?t:null);n="with ((window && window.console && window.console._commandLineAPI) || {}) {\n"+n+"\n}"}var s=e.call(t,n);if(this._type(s)==="error")throw s.toString();return s}finally{if(i&&inspectedWindow.console)delete inspectedWindow.console._commandLineAPI}},getNodeId:function(e){return InjectedScriptHost.pushNodePathToFrontend(e,false,false)},callFrames:function(){var e=InjectedScriptHost.currentCallFrame();if(!e)return false;injectedScript.releaseWrapperObjectGroup("backtrace");var t=[];var n=0;do{t.push(new InjectedScript.CallFrameProxy(n++,e));e=e.caller}while(e);return t},evaluateOnCallFrame:function(e,t,n,r){var i=this._callFrameForId(e);if(!i)return false;return this._evaluateAndWrap(i.evaluate,i,t,n,true,r)},_callFrameForId:function(callFrameId){var parsedCallFrameId=eval("("+callFrameId+")");var ordinal=parsedCallFrameId.ordinal;var callFrame=InjectedScriptHost.currentCallFrame();while(--ordinal>=0&&callFrame)callFrame=callFrame.caller;return callFrame},_nodeForId:function(e){if(!e)return null;return InjectedScriptHost.nodeForId(e)},_objectForId:function(e){return this._idToWrappedObject[e.id]},resolveNode:function(e){var t=this._nodeForId(e);if(!t)return false;return this._wrapObject(t,"prototype")},getNodeProperties:function(nodeId,properties){var node=this._nodeForId(nodeId);if(!node)return false;properties=eval("("+properties+")");var result={};for(var i=0;i<properties.length;++i)result[properties[i]]=node[properties[i]];return result},getNodePrototypes:function(e){this.releaseWrapperObjectGroup("prototypes");var t=this._nodeForId(e);if(!t)return false;var n=[];var r=t;do{n.push(this._wrapObject(r,"prototypes"));r=Object.getPrototypeOf(r)}while(r);return n},pushNodeToFrontend:function(e){var t=this._parseObjectId(e);var n=this._objectForId(t);if(!n||this._type(n)!=="node")return false;return InjectedScriptHost.pushNodePathToFrontend(n,false,false)},evaluateOnSelf:function(funcBody,args){var func=eval("("+funcBody+")");return func.apply(this,eval("("+args+")")||[])},_isDefined:function(e){return e||this._isHTMLAllCollection(e)},_isHTMLAllCollection:function(e){return typeof e==="undefined"&&inspectedWindow.HTMLAllCollection&&e instanceof inspectedWindow.HTMLAllCollection},_type:function(e){if(e===null)return"null";var t=typeof e;if(t!=="object"&&t!=="function"){if(this._isHTMLAllCollection(e))return"array";return t}if(!inspectedWindow.document)return t;if(e instanceof inspectedWindow.Node){try{return e.nodeType===undefined?t:"node"}catch(n){}return e.toString()}if(e instanceof inspectedWindow.String)return"string";if(e instanceof inspectedWindow.Array)return"array";if(e instanceof inspectedWindow.Boolean)return"boolean";if(e instanceof inspectedWindow.Number)return"number";if(e instanceof inspectedWindow.Date)return"date";if(e instanceof inspectedWindow.RegExp)return"regexp";if(isFinite(e.length)&&typeof e.splice==="function")return"array";if(isFinite(e.length)&&typeof e.callee==="function")return"array";if(e instanceof inspectedWindow.NodeList)return"array";if(e instanceof inspectedWindow.HTMLCollection)return"array";if(e instanceof inspectedWindow.Error)return"error";return t},_describe:function(e,t){var n=this._type(e);switch(n){case"object":case"node":var r=InjectedScriptHost.internalConstructorName(e);if(r==="Object"){var i=e.constructor&&e.constructor.name;if(i)return i}return r;case"array":var s=InjectedScriptHost.internalConstructorName(e);if(typeof e.length==="number")s+="["+e.length+"]";return s;case"string":if(!t)return e;if(e.length>100)return'"'+e.substring(0,100)+'…"';return'"'+e+'"';case"function":var o=this._toString(e);if(t)o=/.*/.exec(o)[0].replace(/ +$/g,"");return o;default:return this._toString(e)}},_toString:function(e){return""+e}};var injectedScript=new InjectedScript;InjectedScript.RemoteObject=function(e,t,n,r){this.objectId=e;this.type=t;this.description=n;this.hasChildren=r};InjectedScript.RemoteObject.fromException=function(e){return new InjectedScript.RemoteObject(null,"error",e.toString())};InjectedScript.RemoteObject.fromObject=function(e,t,n){var r=injectedScript._type(e);var i=typeof e;var s=i==="object"&&e!==null&&(Object.getOwnPropertyNames(e).length||!!Object.getPrototypeOf(e))||i==="function";var o="";try{var o=injectedScript._describe(e,n);return new InjectedScript.RemoteObject(t,r,o,s)}catch(u){return InjectedScript.RemoteObject.fromException(u)}};InjectedScript.CallFrameProxy=function(e,t){this.id={ordinal:e,injectedScriptId:injectedScriptId};this.type=t.type;this.functionName=this.type==="function"?t.functionName:"";this.sourceID=t.sourceID;this.line=t.line;this.column=t.column;this.scopeChain=this._wrapScopeChain(t)};InjectedScript.CallFrameProxy.prototype={_wrapScopeChain:function(e){var t=0;var n=1;var r=2;var i=3;var s=4;var o=e.scopeChain;var u=[];var a=false;for(var f=0;f<o.length;f++){var l=e.scopeType(f);var c=o[f];var h=injectedScript._wrapObject(c,"backtrace",true);switch(l){case n:{a=true;h.isLocal=true;h.thisObject=injectedScript._wrapObject(e.thisObject,"backtrace",true);break};case i:{h.isClosure=true;break};case r:case s:{if(a&&c instanceof inspectedWindow.Element)h.isElement=true;else if(a&&c instanceof inspectedWindow.Document)h.isDocument=true;else h.isWithBlock=true;break}}u.push(h)}return u}};CommandLineAPI.members_=["$","$","$x","dir","dirxml","keys","values","profile","profileEnd","monitorEvents","unmonitorEvents","inspect","copy","clear"];CommandLineAPIImpl.prototype={$:function(){return document.getElementById.apply(document,arguments)},$:function(){return document.querySelectorAll.apply(document,arguments)},$x:function(e,t){var n=[];try{var r=t&&t.ownerDocument||inspectedWindow.document;var i=r.evaluate(e,t||r,null,XPathResult.ANY_TYPE,null);var s;while(s=i.iterateNext())n.push(s)}catch(o){}return n},dir:function(){return console.dir.apply(console,arguments)},dirxml:function(){return console.dirxml.apply(console,arguments)},keys:function(e){return Object.keys(e)},values:function(e){var t=[];for(var n in e)t.push(e[n]);return t},profile:function(){return console.profile.apply(console,arguments)},profileEnd:function(){return console.profileEnd.apply(console,arguments)},monitorEvents:function(e,t){if(!e||!e.addEventListener||!e.removeEventListener)return;t=this._normalizeEventTypes(t);for(var n=0;n<t.length;++n){e.removeEventListener(t[n],this._logEvent,false);e.addEventListener(t[n],this._logEvent,false)}},unmonitorEvents:function(e,t){if(!e||!e.addEventListener||!e.removeEventListener)return;t=this._normalizeEventTypes(t);for(var n=0;n<t.length;++n)e.removeEventListener(t[n],this._logEvent,false)},inspect:function(e){if(arguments.length===0)return;inspectedWindow.console.log(e);if(injectedScript._type(e)==="node")InjectedScriptHost.pushNodePathToFrontend(e,false,true);else{switch(injectedScript._describe(e)){case"Database":InjectedScriptHost.selectDatabase(e);break;case"Storage":InjectedScriptHost.selectDOMStorage(e);break}}},copy:function(e){if(injectedScript._type(e)==="node")e=e.outerHTML;InjectedScriptHost.copyText(e)},clear:function(){InjectedScriptHost.clearConsoleMessages()},_inspectedNode:function(e){var t=InjectedScriptHost.inspectedNode(e);return injectedScript._nodeForId(t)},_normalizeEventTypes:function(e){if(typeof e==="undefined")e=["mouse","key","load","unload","abort","error","select","change","submit","reset","focus","blur","resize","scroll"];else if(typeof e==="string")e=[e];var t=[];for(var n=0;n<e.length;n++){if(e[n]==="mouse")t.splice(0,0,"mousedown","mouseup","click","dblclick","mousemove","mouseover","mouseout");else if(e[n]==="key")t.splice(0,0,"keydown","keyup","keypress");else t.push(e[n])}return t},_logEvent:function(e){console.log(e.type,e)}};injectedScript._commandLineAPIImpl=new CommandLineAPIImpl;return injectedScript};modjewel.define("weinre/target/InjectedScriptHostImpl",function(e,t,n){var r,i;i=e("../common/Weinre");n.exports=r=function(){function e(){}e.prototype.clearConsoleMessages=function(e){if(e){return i.WeinreTargetCommands.sendClientCallback(e)}};e.prototype.nodeForId=function(e,t){return i.nodeStore.getNode(e)};e.prototype.pushNodePathToFrontend=function(e,t,n,r){var s,o;o=i.nodeStore.getNodeId(e);s=i.nodeStore.serializeNode(e,1);i.wi.DOMNotify.setChildNodes(o,s);if(r){i.WeinreTargetCommands.sendClientCallback(r)}if(n){return i.wi.InspectorNotify.updateFocusedNode(o)}};e.prototype.inspectedNode=function(e,t){var n;n=i.nodeStore.getInspectedNode(e);return n};e.prototype.internalConstructorName=function(e){var t,n,r,i;t=e.constructor;n=t.fullClassName||t.displayName||t.name;if(n&&n!=="Object"){return n}i=/\[object (.*)\]/;r=i.exec(e.toString());if(r){return r[1]}return"Object"};return e}();e("../common/MethodNamer").setNamesForClass(n.exports)});modjewel.define("weinre/target/NetworkRequest",function(e,t,n){var r,i,s,o,u,a,f,l,c,h,p,d,v,m,g;f=e("../common/StackTrace");o=e("../common/IDGenerator");i=e("../common/HookLib");l=e("../common/Weinre");r=e("../common/Ex");s=e("./HookSites");u={url:window.location.href,frameId:0,loaderId:0};n.exports=a=function(){function e(e,t,n,r,i){this.xhr=e;this.id=t;this.method=n;this.url=r;this.stackTrace=i}e.prototype.handleSend=function(e){var t,n,r;l.wi.NetworkNotify.identifierForInitialRequest(this.id,this.url,u,this.stackTrace);r=Date.now()/1e3;n=p(this.url,this.method,this.xhr,e);t={isNull:true};return l.wi.NetworkNotify.willSendRequest(this.id,r,n,t)};e.prototype.handleHeadersReceived=function(){var e,t;t=Date.now()/1e3;e=d(this.xhr);return l.wi.NetworkNotify.didReceiveResponse(this.id,t,"XHR",e)};e.prototype.handleLoading=function(){};e.prototype.handleDone=function(){var e,t,n,r,i,s;t="";try{t=this.xhr.responseText}catch(o){}l.wi.NetworkNotify.setInitialContent(this.id,t,"XHR");s=Date.now()/1e3;n=this.xhr.status;if(n===0){n=200}r=this.xhr.statusText;i=n>=200&&n<300;if(i){return l.wi.NetworkNotify.didFinishLoading(this.id,s)}else{e=""+n+" - "+r;return l.wi.NetworkNotify.didFailLoading(this.id,s,e)}};e.installNativeHooks=function(){s.XMLHttpRequest_open.addHooks({before:function(t,n){var r,s,u,a,l,c,h,p,d;h=t;u=n[0];c=n[1];s=o.next();a=(new f(n)).trace.slice(1);l=[];for(p=0,d=a.length;p<d;p++){r=a[p];l.push({functionName:r})}h.__weinreNetworkRequest__=new e(h,s,u,c,l);return i.ignoreHooks(function(){return h.addEventListener("readystatechange",v(h),false)})}});return s.XMLHttpRequest_send.addHooks({before:function(e,t){var n,r,i;i=e;n=t[0];r=i.__weinreNetworkRequest__;if(!r){return}return r.handleSend(n)}})};return e}();p=function(e,t,n,r){return{url:e,httpMethod:t,httpHeaderFields:{},requestFormData:c(e,r)}};d=function(e){var t,n,r,i,s,o;n=e.getResponseHeader("Content-Type");n||(n="application/octet-stream");o=m(n),n=o[0],r=o[1];i=h(e);s={mimeType:n,textEncodingName:r,httpStatusCode:e.status,httpStatusText:e.statusText,httpHeaderFields:i,connectionReused:false,connectionID:0,wasCached:false};t=e.getResponseHeader("Content-Length");t=parseInt(t);if(!isNaN(t)){s.expectedContentLength=t}return s};h=function(e){var t,n,r,i,s,o,u,a,f;s=e.getAllResponseHeaders();r=s.split("\r\n");i={};for(u=0,a=r.length;u<a;u++){n=r[u];n=g(n);if(n===""){break}f=n.split(":",2),t=f[0],o=f[1];i[g(t)]=g(o)}return i};g=function(e){return e.replace(/^\s+|\s+$/g,"")};c=function(e,t){var n,r;if(t){return t}r=/.*?\?(.*?)(#.*)?$/;n=e.match(r);if(n){return n[1]}return""};m=function(e){var t,n;n=/\s*(.*?)\s*(;\s*(.*))?\s*$/;t=e.match(n);if(!t){return[e,""]}return[t[1],t[3]]};v=function(e){return function(){var t;t=e.__weinreNetworkRequest__;if(!t){return}try{switch(e.readyState){case 2:return t.handleHeadersReceived();case 3:return t.handleLoading();case 4:return t.handleDone()}}catch(n){}}}});modjewel.define("weinre/target/NodeStore",function(e,t,n){var r,i,s,o,u,a,f,l,c;o=e("../common/Weinre");i=e("../common/IDGenerator");r=e("../common/Debug");n.exports=s=function(){function e(){this._nodeMap={};this._childrenSent={};this._inspectedNodes=[];document.addEventListener("DOMSubtreeModified",c,false);document.addEventListener("DOMNodeInserted",f,false);document.addEventListener("DOMNodeRemoved",l,false);document.addEventListener("DOMAttrModified",u,false);document.addEventListener("DOMCharacterDataModified",a,false)}e.prototype.addInspectedNode=function(e){this._inspectedNodes.unshift(e);if(this._inspectedNodes.length>5){return this._inspectedNodes=this._inspectedNodes.slice(0,5)}};e.prototype.getInspectedNode=function(e){return this._inspectedNodes[e]};e.prototype.getNode=function(e){return this._nodeMap[e]};e.prototype.checkNodeId=function(e){return i.checkId(e)};e.prototype.getNodeId=function(e){var t;t=this.checkNodeId(e);if(t){return t}return i.getId(e,this._nodeMap)};e.prototype.getNodeData=function(e,t){return this.serializeNode(this.getNode(e),t)};e.prototype.getPreviousSiblingId=function(e){var t,n;while(true){n=e.previousSibling;if(!n){return 0}t=this.checkNodeId(n);if(t){return t}e=n}};e.prototype.nextNodeId=function(){return""+i.next()};e.prototype.serializeNode=function(e,t){var n,r,i,s,o,u,a;u="";a=null;s=null;i=this.getNodeId(e);switch(e.nodeType){case Node.TEXT_NODE:case Node.COMMENT_NODE:case Node.CDATA_SECTION_NODE:a=e.nodeValue;break;case Node.ATTRIBUTE_NODE:s=e.localName;break;case Node.DOCUMENT_FRAGMENT_NODE:break;default:u=e.nodeName;s=e.localName}o={id:i,nodeType:e.nodeType,nodeName:u,localName:s,nodeValue:a};if(e.nodeType===Node.ELEMENT_NODE||e.nodeType===Node.DOCUMENT_NODE||e.nodeType===Node.DOCUMENT_FRAGMENT_NODE){o.childNodeCount=this.childNodeCount(e);n=this.serializeNodeChildren(e,t);if(n.length){o.children=n}if(e.nodeType===Node.ELEMENT_NODE){o.attributes=[];r=0;while(r<e.attributes.length){o.attributes.push(e.attributes[r].nodeName);o.attributes.push(e.attributes[r].nodeValue);r++}}else{if(e.nodeType===Node.DOCUMENT_NODE){o.documentURL=window.location.href}}}else if(e.nodeType===Node.DOCUMENT_TYPE_NODE){o.publicId=e.publicId;o.systemId=e.systemId;o.internalSubset=e.internalSubset}else if(e.nodeType===Node.ATTRIBUTE_NODE){o.name=e.nodeName;o.value=e.nodeValue}return o};e.prototype.serializeNodeChildren=function(e,t){var n,r,i,s;s=[];n=this.childNodeIds(e);if(t===0){if(n.length===1){r=this.getNode(n[0]);if(r.nodeType===Node.TEXT_NODE){s.push(this.serializeNode(r))}}return s}t--;i=0;while(i<n.length){s.push(this.serializeNode(this.getNode(n[i]),t));i++}return s};e.prototype.childNodeCount=function(e){return this.childNodeIds(e).length};e.prototype.childNodeIds=function(e){var t,n,r,i,s,o;r=[];n=0;o=e.childNodes;for(i=0,s=o.length;i<s;i++){t=o[i];if(this.isToBeSkipped(t)){continue}r.push(this.getNodeId(t))}return r};e.prototype.isToBeSkipped=function(e){if(!e){return true}if(e.__weinreHighlighter){return true}if(e.nodeType!==Node.TEXT_NODE){return false}return!!e.nodeValue.match(/^\s*$/)};return e}();c=function(e){if(!e.attrChange){return}return s.handleDOMAttrModified(e)};f=function(e){var t,n,r,i;i=o.nodeStore.checkNodeId(e.target);n=o.nodeStore.checkNodeId(e.relatedNode);if(!n){return}t=o.nodeStore.serializeNode(e.target,0);r=o.nodeStore.getPreviousSiblingId(e.target);return o.wi.DOMNotify.childNodeInserted(n,r,t)};l=function(e){var t,n,r;r=o.nodeStore.checkNodeId(e.target);n=o.nodeStore.checkNodeId(e.relatedNode);if(!n){return}if(r){if(n){return o.wi.DOMNotify.childNodeRemoved(n,r)}}else{t=o.nodeStore.childNodeCount(e.relatedNode);return o.wi.DOMNotify.childNodeCountUpdated(n,t)}};u=function(e){var t,n,r;r=o.nodeStore.checkNodeId(e.target);if(!r){return}t=[];n=0;while(n<e.target.attributes.length){t.push(e.target.attributes[n].name);t.push(e.target.attributes[n].value);n++}return o.wi.DOMNotify.attributesUpdated(r,t)};a=function(e){var t;t=o.nodeStore.checkNodeId(e.target);if(!t){return}return o.wi.DOMNotify.characterDataModified(t,e.newValue)};e("../common/MethodNamer").setNamesForClass(n.exports)});modjewel.define("weinre/target/SqlStepper",function(e,t,n){var r,i,s,o,u;r=e("../common/Binding");n.exports=i=function(){function e(t){var n;if(!(this instanceof e)){return new e(t)}this.__context={};n=this.__context;n.steps=t}e.prototype.run=function(e,t){var n;n=this.__context;if(n.hasBeenRun){throw new Ex(arguments,"stepper has already been run")}n.hasBeenRun=true;n.db=e;n.errorCallback=t;n.nextStep=0;n.ourErrorCallback=new r(this,o);n.runStep=new r(this,u);this.executeSql=new r(this,s);return e.transaction(n.runStep)};e.example=function(t,n){var r,i,s,o;i=function(){return this.executeSql("SELECT name FROM sqlite_master WHERE type='table'")};s=function(e){var t,n,r,i;i=e.rows;r=[];t=0;while(t<i.length){n=i.item(t).name;if(n==="__WebKitDatabaseInfoTable__"){t++;continue}r.push(n);t++}return console.log("["+this.id+"] table names: "+r.join(", "))};r=function(e){return console.log("["+this.id+"] sql error:"+e.code+": "+e.message)};o=new e([i,s]);o.id=n;return o.run(t,r)};return e}();s=function(e,t){var n;n=this.__context;return n.tx.executeSql(e,t,n.runStep,n.ourErrorCallback)};o=function(e,t){var n;n=this.__context;return n.errorCallback.call(this,t)};u=function(e,t){var n,r;n=this.__context;if(n.nextStep>=n.steps.length){return}n.tx=e;n.currentStep=n.nextStep;n.nextStep++;r=n.steps[n.currentStep];return r.call(this,t)};e("../common/MethodNamer").setNamesForClass(n.exports)});modjewel.define("weinre/target/Target",function(e,t,n){var r,i,s,o,u,a,f,l,c,h,p,d,v,m,g,y,b,w,E,S,x,T,N;e("./BrowserHacks");a=e("../common/Ex");r=e("../common/Binding");s=e("../common/Callback");c=e("../common/MessageDispatcher");v=e("../common/Weinre");f=e("../common/HookLib");o=e("./CheckForProblems");p=e("./NodeStore");i=e("./CSSStore");u=e("./ElementHighlighter");l=e("./InjectedScriptHostImpl");h=e("./NetworkRequest");g=e("./WeinreTargetEventsImpl");m=e("./WeinreExtraClientCommandsImpl");b=e("./WiConsoleImpl");y=e("./WiCSSImpl");S=e("./WiDatabaseImpl");w=e("./WiDOMImpl");E=e("./WiDOMStorageImpl");x=e("./WiInspectorImpl");T=e("./WiRuntimeImpl");n.exports=d=function(){function e(){}e.main=function(){o.check();v.target=new e;return v.target.initialize()};e.prototype.setWeinreServerURLFromScriptSrc=function(e){var t,n,r;if(window.WeinreServerURL){return}if(e){r=/(http:\/\/(.*?)\/)/;t=r.exec(e.src);if(t){window.WeinreServerURL=t[1];return}}n="unable to calculate the weinre server url; explicity set the variable window.WeinreServerURL instead";alert(n);throw new a(arguments,n)};e.prototype.setWeinreServerIdFromScriptSrc=function(e){var t,n;if(window.WeinreServerId){return}e=this.getTargetScriptElement();n="anonymous";if(e){t=e.src.split("#")[1];if(t){n=t}else{t=location.hash.split("#")[1];if(t){n=t}}}return window.WeinreServerId=n};e.prototype.getTargetScriptElement=function(){var e,t,n,r,i;t=document.getElementsByTagName("script");i=["target-script.js","target-script-min.js"];n=0;while(n<t.length){e=t[n];r=0;while(r<i.length){if(-1!==e.src.indexOf("/"+i[r])){return e}r++}n++}};e.prototype.initialize=function(){var e,t,n,s=this;e=this.getTargetScriptElement();this.setWeinreServerURLFromScriptSrc(e);this.setWeinreServerIdFromScriptSrc(e);if(window.WeinreServerURL[window.WeinreServerURL.length-1]!=="/"){window.WeinreServerURL+="/"}t=new l;v.injectedScript=injectedScriptConstructor(t,window,0,"?");window.addEventListener("load",r(this,"onLoaded"),false);document.addEventListener("DOMContentLoaded",r(this,"onDOMContent"),false);this._startTime=N();if(document.readyState==="loaded"){f.ignoreHooks(function(){return setTimeout(function(){return s.onDOMContent()},10)})}if(document.readyState==="complete"){f.ignoreHooks(function(){setTimeout(function(){return s.onDOMContent()},10);return setTimeout(function(){return s.onLoaded()},20)})}n=new c(window.WeinreServerURL+"ws/target",window.WeinreServerId);v.messageDispatcher=n;v.wi={};v.wi.Console=new b;v.wi.CSS=new y;v.wi.Database=new S;v.wi.DOM=new w;v.wi.DOMStorage=new E;v.wi.Inspector=new x;v.wi.Runtime=new T;n.registerInterface("Console",v.wi.Console,false);n.registerInterface("CSS",v.wi.CSS,false);n.registerInterface("Database",v.wi.Database,false);n.registerInterface("DOM",v.wi.DOM,false);n.registerInterface("DOMStorage",v.wi.DOMStorage,false);n.registerInterface("Inspector",v.wi.Inspector,false);n.registerInterface("Runtime",v.wi.Runtime,false);n.registerInterface("WeinreExtraClientCommands",new m,true);n.registerInterface("WeinreTargetEvents",new g,true);v.wi.ApplicationCacheNotify=n.createProxy("ApplicationCacheNotify");v.wi.ConsoleNotify=n.createProxy("ConsoleNotify");v.wi.DOMNotify=n.createProxy("DOMNotify");v.wi.DOMStorageNotify=n.createProxy("DOMStorageNotify");v.wi.DatabaseNotify=n.createProxy("DatabaseNotify");v.wi.InspectorNotify=n.createProxy("InspectorNotify");v.wi.TimelineNotify=n.createProxy("TimelineNotify");v.wi.NetworkNotify=n.createProxy("NetworkNotify");v.WeinreTargetCommands=n.createProxy("WeinreTargetCommands");v.WeinreExtraTargetEvents=n.createProxy("WeinreExtraTargetEvents");n.getWebSocket().addEventListener("open",r(this,this.cb_webSocketOpened));v.nodeStore=new p;v.cssStore=new i;return h.installNativeHooks()};e.prototype.cb_webSocketOpened=function(){return v.WeinreTargetCommands.registerTarget(window.location.href,r(this,this.cb_registerTarget))};e.prototype.cb_registerTarget=function(e){return v.targetDescription=e};e.prototype.onLoaded=function(){var e=this;if(!v.wi.InspectorNotify){f.ignoreHooks(function(){return setTimeout(function(){return e.onLoaded()},10)});return}return v.wi.InspectorNotify.loadEventFired(N()-this._startTime)};e.prototype.onDOMContent=function(){var e=this;if(!v.wi.InspectorNotify){f.ignoreHooks(function(){return setTimeout(function(){return e.onDOMContent()},10)});return}return v.wi.InspectorNotify.domContentEventFired(N()-this._startTime)};e.prototype.setDocument=function(){var e,t;if(!v.elementHighlighter){v.elementHighlighter=u.create()}t=v.nodeStore.getNodeId(document);e=v.nodeStore.getNodeData(t,2);return v.wi.DOMNotify.setDocument(e)};e.prototype.whenBodyReady=function(e,t,n){if(document.body){n.apply(e,t);return}return document.addEventListener("DOMContentLoaded",function(){return n.apply(e,t)},false)};return e}();N=function(){return(new Date).getMilliseconds()/1e3};e("../common/MethodNamer").setNamesForClass(n.exports)});modjewel.define("weinre/target/Timeline",function(e,t,n){var r,i,s,o,u,a,f,l,c,h,p,d,v,m,g,y;r=e("../common/Ex");p=e("../common/Weinre");o=e("../common/IDGenerator");a=e("../common/StackTrace");i=e("../common/HookLib");s=e("./HookSites");u=false;h={};c={};l={EventDispatch:0,Layout:1,RecalculateStyles:2,Paint:3,ParseHTML:4,TimerInstall:5,TimerRemove:6,TimerFire:7,XHRReadyStateChange:8,XHRLoad:9,EvaluateScript:10,Mark:11,ResourceSendRequest:12,ResourceReceiveResponse:13,ResourceFinish:14,FunctionCall:15,ReceiveResourceData:16,GCEvent:17,MarkDOMContent:18,MarkLoad:19,ScheduleResourceRequest:20};n.exports=f=function(){function e(){}e.start=function(){return u=true};e.stop=function(){return u=false};e.isRunning=function(){return u};e.addRecord_Mark=function(t){var n;if(!e.isRunning()){return}n={};n.type=l.Mark;n.category={name:"scripting"};n.startTime=Date.now();n.data={message:t};d(n,3);return p.wi.TimelineNotify.addRecordToTimeline(n)};e.addRecord_EventDispatch=function(t,n,r){var i;if(!e.isRunning()){return}if(!r){r="scripting"}i={};i.type=l.EventDispatch;i.category={name:r};i.startTime=Date.now();i.data={type:t.type};return p.wi.TimelineNotify.addRecordToTimeline(i)};e.addRecord_TimerInstall=function(t,n,r){var i;if(!e.isRunning()){return}i={};i.type=l.TimerInstall;i.category={name:"scripting"};i.startTime=Date.now();i.data={timerId:t,timeout:n,singleShot:r};d(i,4);return p.wi.TimelineNotify.addRecordToTimeline(i)};e.addRecord_TimerRemove=function(t,n,r){var i;if(!e.isRunning()){return}i={};i.type=l.TimerRemove;i.category={name:"scripting"};i.startTime=Date.now();i.data={timerId:t,timeout:n,singleShot:r};d(i,4);return p.wi.TimelineNotify.addRecordToTimeline(i)};e.addRecord_TimerFire=function(t,n,r){var i;if(!e.isRunning()){return}i={};i.type=l.TimerFire;i.category={name:"scripting"};i.startTime=Date.now();i.data={timerId:t,timeout:n,singleShot:r};return p.wi.TimelineNotify.addRecordToTimeline(i)};e.addRecord_XHRReadyStateChange=function(t,n,r,i){var s,o,u;if(!e.isRunning()){return}try{s=i.getResponseHeader("Content-Length");s=parseInt(s);o=i.getResponseHeader("Content-Type")}catch(a){s=0;o="unknown"}u={};u.startTime=Date.now();u.category={name:"loading"};if(i.readyState===XMLHttpRequest.OPENED){u.type=l.ResourceSendRequest;u.data={identifier:r,url:n,requestMethod:t}}else if(i.readyState===XMLHttpRequest.DONE){u.type=l.ResourceReceiveResponse;u.data={identifier:r,statusCode:i.status,mimeType:o,url:n};if(!isNaN(s)){u.data.expectedContentLength=s}}else{return}return p.wi.TimelineNotify.addRecordToTimeline(u)};e.installGlobalListeners=function(){if(window.applicationCache){applicationCache.addEventListener("checking",function(t){return e.addRecord_EventDispatch(t,"applicationCache.checking","loading")},false);applicationCache.addEventListener("error",function(t){return e.addRecord_EventDispatch(t,"applicationCache.error","loading")},false);applicationCache.addEventListener("noupdate",function(t){return e.addRecord_EventDispatch(t,"applicationCache.noupdate","loading")},false);applicationCache.addEventListener("downloading",function(t){return e.addRecord_EventDispatch(t,"applicationCache.downloading","loading")},false);applicationCache.addEventListener("progress",function(t){return e.addRecord_EventDispatch(t,"applicationCache.progress","loading")},false);applicationCache.addEventListener("updateready",function(t){return e.addRecord_EventDispatch(t,"applicationCache.updateready","loading")},false);applicationCache.addEventListener("cached",function(t){return e.addRecord_EventDispatch(t,"applicationCache.cached","loading")},false);applicationCache.addEventListener("obsolete",function(t){return e.addRecord_EventDispatch(t,"applicationCache.obsolete","loading")},false)}window.addEventListener("error",function(t){return e.addRecord_EventDispatch(t,"window.error")},false);window.addEventListener("hashchange",function(t){return e.addRecord_EventDispatch(t,"window.hashchange")},false);window.addEventListener("message",function(t){return e.addRecord_EventDispatch(t,"window.message")},false);window.addEventListener("offline",function(t){return e.addRecord_EventDispatch(t,"window.offline")},false);window.addEventListener("online",function(t){return e.addRecord_EventDispatch(t,"window.online")},false);return window.addEventListener("scroll",function(t){return e.addRecord_EventDispatch(t,"window.scroll")},false)};e.installNativeHooks=function(){s.window_setInterval.addHooks({before:function(e,t){var n,r;n=t[0];if(typeof n!=="function"){return}r=t[1];n=g(n,r,false);t[0]=n;this.userData={};this.userData.code=n;return this.userData.interval=r},after:function(e,t,n){var r,i;if(!this.userData){return}r=this.userData.code;if(typeof r!=="function"){return}i=n;r.__timerId=i;return v(i,this.userData.interval,false)}});s.window_clearInterval.addHooks({before:function(e,t){var n;n=t[0];return y(n,false)}});s.window_setTimeout.addHooks({before:function(e,t){var n,r;n=t[0];if(typeof n!=="function"){return}r=t[1];n=g(n,r,true);t[0]=n;this.userData={};this.userData.code=n;return this.userData.interval=r},after:function(e,t,n){var r,i;if(!this.userData){return}r=this.userData.code;if(typeof r!=="function"){return}i=n;r.__timerId=i;return v(i,this.userData.interval,true)}});s.window_clearTimeout.addHooks({before:function(e,t){var n;n=t[0];return y(n,true)}});return s.XMLHttpRequest_open.addHooks({before:function(e,t){var n;n=e;o.getId(n);n.__weinre_method=t[0];n.__weinre_url=t[1];return n.addEventListener("readystatechange",m(n),false)}})};return e}();m=function(e){return function(t){return f.addRecord_XHRReadyStateChange(e.__weinre_method,e.__weinre_url,o.getId(e),e)}};v=function(e,t,n){var r;r=n?h:c;r[e]={id:e,timeout:t,singleShot:n};return f.addRecord_TimerInstall(e,t,n)};y=function(e,t){var n,r;r=t?h:c;n=r[e];if(!n){return}f.addRecord_TimerRemove(e,n.timeout,t);return delete r[e]};g=function(e,t,n){var r;if(typeof e!=="function"){return e}r=function(){var r,i;i=e.apply(this,arguments);r=arguments.callee.__timerId;f.addRecord_TimerFire(r,t,n);return i};r.displayName=e.name||e.displayName;return r};d=function(e,t){var n,r,i;if(!t){t=1}r=(new a(arguments)).trace;e.stackTrace=[];n=t;i=[];while(n<r.length){e.stackTrace.push({functionName:r[n],scriptName:"",lineNumber:""});i.push(n++)}return i};f.installGlobalListeners();f.installNativeHooks();e("../common/MethodNamer").setNamesForClass(n.exports)});modjewel.define("weinre/target/WeinreExtraClientCommandsImpl",function(e,t,n){var r,i,s,o;i=e("../common/Weinre");o=e("./WiDatabaseImpl");r=e("./Console");n.exports=s=function(){function e(){}e.prototype.getDatabases=function(e){var t;if(!e){return}t=o.getDatabases();return i.WeinreTargetCommands.sendClientCallback(e,[t])};return e}();e("../common/MethodNamer").setNamesForClass(n.exports)});modjewel.define("weinre/target/WeinreTargetEventsImpl",function(e,t,n){var r,i,s,o;s=e("../common/Weinre");r=e("../common/Callback");i=e("./Console");n.exports=o=function(){function e(){}e.prototype.connectionCreated=function(e,t){var n;n="weinre: target "+t+" connected to client "+e;s.logInfo(n);return s.target.whenBodyReady(this,[],function(){var e;e=i.useRemote(true);s.target.setDocument();s.wi.TimelineNotify.timelineProfilerWasStopped();return s.wi.DOMStorage.initialize()})};e.prototype.connectionDestroyed=function(e,t){var n,r;n="weinre: target "+t+" disconnected from client "+e;s.logInfo(n);return r=i.useRemote(false)};e.prototype.sendCallback=function(e,t){return r.invoke(e,t)};return e}();e("../common/MethodNamer").setNamesForClass(n.exports)});modjewel.define("weinre/target/WiConsoleImpl",function(e,t,n){var r,i;r=e("../common/Weinre");n.exports=i=function(){function e(){this.messagesEnabled=true}e.prototype.setConsoleMessagesEnabled=function(e,t){var n;n=this.messagesEnabled;this.messagesEnabled=e;if(t){return r.WeinreTargetCommands.sendClientCallback(t,[n])}};e.prototype.clearConsoleMessages=function(e){r.wi.ConsoleNotify.consoleMessagesCleared();if(e){return r.WeinreTargetCommands.sendClientCallback(e,[])}};e.prototype.setMonitoringXHREnabled=function(e,t){if(t){return r.WeinreTargetCommands.sendClientCallback(t,[])}};return e}();e("../common/MethodNamer").setNamesForClass(n.exports)});modjewel.define("weinre/target/WiCSSImpl",function(e,t,n){var r,i;r=e("../common/Weinre");n.exports=i=function(){function e(){this.dummyComputedStyle=false}e.prototype.getStylesForNode=function(e,t){var n,i,s,o,u;u={};i=r.nodeStore.getNode(e);if(!i){r.logWarning(arguments.callee.signature+" passed an invalid nodeId: "+e);return}if(this.dummyComputedStyle){n={styleId:null,properties:[],shorthandValues:[],cssProperties:[]}}else{n=r.cssStore.getComputedStyle(i)}u={inlineStyle:r.cssStore.getInlineStyle(i),computedStyle:n,matchedCSSRules:r.cssStore.getMatchedCSSRules(i),styleAttributes:r.cssStore.getStyleAttributes(i),pseudoElements:r.cssStore.getPseudoElements(i),inherited:[]};s=i.parentNode;while(s){o={inlineStyle:r.cssStore.getInlineStyle(s),matchedCSSRules:r.cssStore.getMatchedCSSRules(s)};u.inherited.push(o);s=s.parentNode}if(t){return r.WeinreTargetCommands.sendClientCallback(t,[u])}};e.prototype.getComputedStyleForNode=function(e,t){var n,i;n=r.nodeStore.getNode(e);if(!n){r.logWarning(arguments.callee.signature+" passed an invalid nodeId: "+e);return}i=r.cssStore.getComputedStyle(n);if(t){return r.WeinreTargetCommands.sendClientCallback(t,[i])}};e.prototype.getInlineStyleForNode=function(e,t){var n,i;n=r.nodeStore.getNode(e);if(!n){r.logWarning(arguments.callee.signature+" passed an invalid nodeId: "+e);return}i=r.cssStore.getInlineStyle(n);if(t){return r.WeinreTargetCommands.sendClientCallback(t,[i])}};e.prototype.getAllStyles=function(e){return r.notImplemented(arguments.callee.signature)};e.prototype.getStyleSheet=function(e,t){return r.notImplemented(arguments.callee.signature)};e.prototype.getStyleSheetText=function(e,t){return r.notImplemented(arguments.callee.signature)};e.prototype.setStyleSheetText=function(e,t,n){return r.notImplemented(arguments.callee.signature)};e.prototype.setPropertyText=function(e,t,n,i,s){var o;o=r.cssStore.setPropertyText(e,t,n,i);if(s){return r.WeinreTargetCommands.sendClientCallback(s,[o])}};e.prototype.toggleProperty=function(e,t,n,i){var s;s=r.cssStore.toggleProperty(e,t,n);if(i){return r.WeinreTargetCommands.sendClientCallback(i,[s])}};e.prototype.setRuleSelector=function(e,t,n){return r.notImplemented(arguments.callee.signature)};e.prototype.addRule=function(e,t,n){return r.notImplemented(arguments.callee.signature)};e.prototype.querySelectorAll=function(e,t,n){return r.notImplemented(arguments.callee.signature)};return e}();e("../common/MethodNamer").setNamesForClass(n.exports)});modjewel.define("weinre/target/WiDatabaseImpl",function(e,t,n){var r,i,s,o,u,a,f,l,c,h,p,d,v,m,g,y,b;o=e("../common/Weinre");i=e("../common/IDGenerator");r=e("./HookSites");s=e("./SqlStepper");g={};b={};n.exports=u=function(){function e(){if(!window.openDatabase){return}r.window_openDatabase.addHooks({after:function(e,t,n){var r,i;if(!n){return}r=t[0];i=t[1];return a(n,r,i)}})}e.getDatabases=function(){var e,t;t=[];for(e in g){t.push(g[e])}return t};e.prototype.getDatabaseTableNames=function(e,t){var n,r;n=f(e);if(!n){return}r=s([v,m]);r.callback=t;return r.run(n,y)};e.prototype.executeSQL=function(e,t,n){var r,u,a;r=f(e);if(!r){return}a=o.targetDescription.channel+"-"+i.next();u=s([p,d]);u.txid=a;u.query=t;u.callback=n;u.run(r,h);if(n){return o.WeinreTargetCommands.sendClientCallback(n,[true,a])}};return e}();y=function(e){return console.log("SQL Error "+e.code+": "+e.message)};v=function(){return this.executeSql("SELECT name FROM sqlite_master WHERE type='table'")};m=function(e){var t,n,r,i;i=e.rows;r=[];t=0;while(t<i.length){n=i.item(t).name;if(n==="__WebKitDatabaseInfoTable__"){t++;continue}r.push(n);t++}return o.WeinreTargetCommands.sendClientCallback(this.callback,[r])};p=function(){return this.executeSql(this.query)};d=function(e){var t,n,r,i,s,u,a;t=[];a=[];u=e.rows;n=0;while(n<u.length){s=u.item(n);if(n===0){for(i in s){t.push(i)}}r=0;while(r<t.length){a.push(s[t[r]]);r++}n++}return o.wi.DatabaseNotify.sqlTransactionSucceeded(this.txid,t,a)};h=function(e){var t;t={code:e.code,message:e.message};return o.wi.DatabaseNotify.sqlTransactionFailed(this.txid,t)};f=function(e){var t;t=g[e];if(!t){return null}return t.db};l=function(e){return g[e]};c=function(e){return b[e]};a=function(e,t,n){var r,s;s=c(t);if(s){return s}s={};s.id=i.next();s.domain=window.location.origin;s.name=t;s.version=n;s.db=e;g[s.id]=s;b[t]=s;r={};r.id=s.id;r.domain=s.domain;r.name=t;r.version=n;return o.WeinreExtraTargetEvents.databaseOpened(r)};e("../common/MethodNamer").setNamesForClass(n.exports)});modjewel.define("weinre/target/WiDOMImpl",function(e,t,n){var r,i;r=e("../common/Weinre");n.exports=i=function(){function e(){}e.prototype.getChildNodes=function(e,t){var n,i;i=r.nodeStore.getNode(e);if(!i){r.logWarning(arguments.callee.signature+" passed an invalid nodeId: "+e);return}n=r.nodeStore.serializeNodeChildren(i,1);r.wi.DOMNotify.setChildNodes(e,n);if(t){return r.WeinreTargetCommands.sendClientCallback(t)}};e.prototype.setAttribute=function(e,t,n,i){var s;s=r.nodeStore.getNode(e);if(!s){r.logWarning(arguments.callee.signature+" passed an invalid elementId: "+e);return}s.setAttribute(t,n);if(i){return r.WeinreTargetCommands.sendClientCallback(i)}};e.prototype.removeAttribute=function(e,t,n){var i;i=r.nodeStore.getNode(e);if(!i){r.logWarning(arguments.callee.signature+" passed an invalid elementId: "+e);return}i.removeAttribute(t);if(n){return r.WeinreTargetCommands.sendClientCallback(n)}};e.prototype.setTextNodeValue=function(e,t,n){var i;i=r.nodeStore.getNode(e);if(!i){r.logWarning(arguments.callee.signature+" passed an invalid nodeId: "+e);return}i.nodeValue=t;if(n){return r.WeinreTargetCommands.sendClientCallback(n)}};e.prototype.getEventListenersForNode=function(e,t){return r.notImplemented(arguments.callee.signature)};e.prototype.copyNode=function(e,t){return r.notImplemented(arguments.callee.signature)};e.prototype.removeNode=function(e,t){var n;n=r.nodeStore.getNode(e);if(!n){r.logWarning(arguments.callee.signature+" passed an invalid nodeId: "+e);return}if(!n.parentNode){r.logWarning(arguments.callee.signature+" passed a parentless node: "+n);return}n.parentNode.removeChild(n);if(t){return r.WeinreTargetCommands.sendClientCallback(t)}};e.prototype.changeTagName=function(e,t,n){return r.notImplemented(arguments.callee.signature)};e.prototype.getOuterHTML=function(e,t){var n,i;n=r.nodeStore.getNode(e);if(!n){r.logWarning(arguments.callee.signature+" passed an invalid nodeId: "+e);return}i=n.outerHTML;if(t){return r.WeinreTargetCommands.sendClientCallback(t,[i])}};e.prototype.setOuterHTML=function(e,t,n){var i;i=r.nodeStore.getNode(e);if(!i){r.logWarning(arguments.callee.signature+" passed an invalid nodeId: "+e);return}i.outerHTML=t;if(n){return r.WeinreTargetCommands.sendClientCallback(n)}};e.prototype.addInspectedNode=function(e,t){r.nodeStore.addInspectedNode(e);if(t){return r.WeinreTargetCommands.sendClientCallback(t)}};e.prototype.performSearch=function(e,t,n){return r.notImplemented(arguments.callee.signature)};e.prototype.searchCanceled=function(e){return r.notImplemented(arguments.callee.signature)};e.prototype.pushNodeByPathToFrontend=function(e,t){var n,i,s,o,u,a,f,l,c,h;l=e.split(",");i=document;s=null;a=r.nodeStore.getNodeId(i);this.getChildNodes(a);for(o=c=0,h=l.length;c<h;o=c+=2){u=parseInt(l[o]);f=l[o+1];if(isNaN(u)){return}n=r.nodeStore.childNodeIds(i);s=n[u];if(!s){return}this.getChildNodes(s);i=r.nodeStore.getNode(s);if(i.nodeName!==f){return}}if(t&&s){return r.WeinreTargetCommands.sendClientCallback(t,[s])}};e.prototype.resolveNode=function(e,t){var n;n=r.injectedScript.resolveNode(e);if(t){return r.WeinreTargetCommands.sendClientCallback(t,[n])}};e.prototype.getNodeProperties=function(e,t,n){var i;t=JSON.stringify(t);i=r.injectedScript.getNodeProperties(e,t);if(n){return r.WeinreTargetCommands.sendClientCallback(n,[i])}};e.prototype.getNodePrototypes=function(e,t){var n;n=r.injectedScript.getNodePrototypes(e);if(t){return r.WeinreTargetCommands.sendClientCallback(t,[n])}};e.prototype.pushNodeToFrontend=function(e,t){var n;e=JSON.stringify(e);n=r.injectedScript.pushNodeToFrontend(e);if(t){return r.WeinreTargetCommands.sendClientCallback(t,[n])}};return e}();e("../common/MethodNamer").setNamesForClass(n.exports)});modjewel.define("weinre/target/WiDOMStorageImpl",function(e,t,n){var r,i,s,o,u;i=e("../common/Weinre");r=e("./HookSites");n.exports=s=function(){function e(){}e.prototype.getDOMStorageEntries=function(e,t){var n,r,s,u,a,f;a=o(e);if(!a){i.logWarning(arguments.callee.signature+" passed an invalid storageId: "+e);return}u=[];s=a.length;n=0;while(n<s){r=a.key(n);f=a.getItem(r);u.push([r,f]);n++}if(t){return i.WeinreTargetCommands.sendClientCallback(t,[u])}};e.prototype.setDOMStorageItem=function(e,t,n,r){var s,u;u=o(e);if(!u){i.logWarning(arguments.callee.signature+" passed an invalid storageId: "+e);return}s=true;try{HookLib.ignoreHooks(function(){if(u===window.localStorage){return localStorage.setItem(t,n)}else if(u===window.sessionStorage){return sessionStorage.setItem(t,n)}})}catch(a){s=false}if(r){return i.WeinreTargetCommands.sendClientCallback(r,[s])}};e.prototype.removeDOMStorageItem=function(e,t,n){var r,s;s=o(e);if(!s){i.logWarning(arguments.callee.signature+" passed an invalid storageId: "+e);return}r=true;try{HookLib.ignoreHooks(function(){if(s===window.localStorage){return localStorage.removeItem(t)}else if(s===window.sessionStorage){return sessionStorage.removeItem(t)}})}catch(u){r=false}if(n){return i.WeinreTargetCommands.sendClientCallback(n,[r])}};e.prototype.initialize=function(){if(window.localStorage){i.wi.DOMStorageNotify.addDOMStorage({id:1,host:window.location.host,isLocalStorage:true});r.LocalStorage_setItem.addHooks({after:function(){return u({storageArea:window.localStorage})}});r.LocalStorage_removeItem.addHooks({after:function(){return u({storageArea:window.localStorage})}});r.LocalStorage_clear.addHooks({after:function(){return u({storageArea:window.localStorage})}})}if(window.sessionStorage){i.wi.DOMStorageNotify.addDOMStorage({id:2,host:window.location.host,isLocalStorage:false});r.SessionStorage_setItem.addHooks({after:function(){return u({storageArea:window.sessionStorage})}});r.SessionStorage_removeItem.addHooks({after:function(){return u({storageArea:window.sessionStorage})}});r.SessionStorage_clear.addHooks({after:function(){return u({storageArea:window.sessionStorage})}})}return document.addEventListener("storage",u,false)};return e}();o=function(e){if(e===1){return window.localStorage}else if(e===2){return window.sessionStorage}return null};u=function(e){var t;if(e.storageArea===window.localStorage){t=1}else if(e.storageArea===window.sessionStorage){t=2}else{return}return i.wi.DOMStorageNotify.updateDOMStorage(t)};e("../common/MethodNamer").setNamesForClass(n.exports)});modjewel.define("weinre/target/WiInspectorImpl",function(e,t,n){var r,i,s;i=e("../common/Weinre");r=e("../target/Timeline");n.exports=s=function(){function e(){}e.prototype.reloadPage=function(e){if(e){i.WeinreTargetCommands.sendClientCallback(e)}return window.location.reload()};e.prototype.highlightDOMNode=function(e,t){var n;n=i.nodeStore.getNode(e);if(!n){i.logWarning(arguments.callee.signature+" passed an invalid nodeId: "+e);return}i.elementHighlighter.on(n);if(t){return i.WeinreTargetCommands.sendClientCallback(t)}};e.prototype.hideDOMNodeHighlight=function(e){i.elementHighlighter.off();if(e){return i.WeinreTargetCommands.sendClientCallback(e)}};e.prototype.startTimelineProfiler=function(e){r.start();i.wi.TimelineNotify.timelineProfilerWasStarted();if(e){return i.WeinreTargetCommands.sendClientCallback(e)}};e.prototype.stopTimelineProfiler=function(e){r.stop();i.wi.TimelineNotify.timelineProfilerWasStopped();if(e){return i.WeinreTargetCommands.sendClientCallback(e)}};return e}();e("../common/MethodNamer").setNamesForClass(n.exports)});modjewel.define("weinre/target/WiRuntimeImpl",function(e,t,n){var r,i;r=e("../common/Weinre");n.exports=i=function(){function e(){}e.prototype.evaluate=function(e,t,n,i){var s;s=r.injectedScript.evaluate(e,t,n);if(i){return r.WeinreTargetCommands.sendClientCallback(i,[s])}};e.prototype.getCompletions=function(e,t,n){var i;i=r.injectedScript.getCompletions(e,t);if(n){return r.WeinreTargetCommands.sendClientCallback(n,[i])}};e.prototype.getProperties=function(e,t,n,i){var s;e=JSON.stringify(e);s=r.injectedScript.getProperties(e,t,n);if(i){return r.WeinreTargetCommands.sendClientCallback(i,[s])}};e.prototype.setPropertyValue=function(e,t,n,i){var s;e=JSON.stringify(e);s=r.injectedScript.setPropertyValue(e,t,n);if(i){return r.WeinreTargetCommands.sendClientCallback(i,[s])}};e.prototype.releaseWrapperObjectGroup=function(e,t,n){var i;i=r.injectedScript.releaseWrapperObjectGroup(t);if(n){return r.WeinreTargetCommands.sendClientCallback(n,[i])}};return e}();e("../common/MethodNamer").setNamesForClass(n.exports)});modjewel.require("weinre/common/Weinre").addIDLs([{interfaces:[{name:"InjectedScriptHost",methods:[{name:"clearConsoleMessages",parameters:[]},{name:"copyText",parameters:[{name:"text"}]},{parameters:[{name:"nodeId"}],name:"nodeForId"},{parameters:[{name:"node"},{name:"withChildren"},{name:"selectInUI"}],name:"pushNodePathToFrontend"},{name:"inspectedNode",parameters:[{name:"num"}]},{parameters:[{name:"object"}],name:"internalConstructorName"},{parameters:[],name:"currentCallFrame"},{parameters:[{name:"database"}],name:"selectDatabase"},{parameters:[{name:"storage"}],name:"selectDOMStorage"},{name:"didCreateWorker",parameters:[{name:"id"},{name:"url"},{name:"isFakeWorker"}]},{name:"didDestroyWorker",parameters:[{name:"id"}]},{name:"nextWorkerId",parameters:[]}]}],name:"core"},{interfaces:[{name:"Inspector",methods:[{name:"addScriptToEvaluateOnLoad",parameters:[{name:"scriptSource"}]},{name:"removeAllScriptsToEvaluateOnLoad",parameters:[]},{name:"reloadPage",parameters:[{name:"ignoreCache"}]},{name:"populateScriptObjects",parameters:[]},{name:"openInInspectedWindow",parameters:[{name:"url"}]},{name:"setSearchingForNode",parameters:[{name:"enabled"}]},{name:"didEvaluateForTestInFrontend",parameters:[{name:"testCallId"},{name:"jsonResult"}]},{name:"highlightDOMNode",parameters:[{name:"nodeId"}]},{name:"hideDOMNodeHighlight",parameters:[]},{name:"highlightFrame",parameters:[{name:"frameId"}]},{name:"hideFrameHighlight",parameters:[]},{name:"setUserAgentOverride",parameters:[{name:"userAgent"}]},{name:"getCookies",parameters:[]},{name:"deleteCookie",parameters:[{name:"cookieName"},{name:"domain"}]},{name:"startTimelineProfiler",parameters:[]},{name:"stopTimelineProfiler",parameters:[]},{name:"enableDebugger",parameters:[]},{name:"disableDebugger",parameters:[]},{name:"enableProfiler",parameters:[]},{name:"disableProfiler",parameters:[]},{name:"startProfiling",parameters:[]},{name:"stopProfiling",parameters:[]}]},{name:"Runtime",methods:[{name:"evaluate",parameters:[{name:"expression"},{name:"objectGroup"},{name:"includeCommandLineAPI"}]},{name:"getCompletions",parameters:[{name:"expression"},{name:"includeCommandLineAPI"}]},{name:"getProperties",parameters:[{name:"objectId"},{name:"ignoreHasOwnProperty"},{name:"abbreviate"}]},{name:"setPropertyValue",parameters:[{name:"objectId"},{name:"propertyName"},{name:"expression"}]},{name:"releaseWrapperObjectGroup",parameters:[{name:"injectedScriptId"},{name:"objectGroup"}]}]},{name:"InjectedScript",methods:[{name:"evaluateOnSelf",parameters:[{name:"functionBody"},{name:"argumentsArray"}]}]},{name:"Console",methods:[{name:"setConsoleMessagesEnabled",parameters:[{name:"enabled"}]},{name:"clearConsoleMessages",parameters:[]},{name:"setMonitoringXHREnabled",parameters:[{name:"enabled"}]}]},{name:"Network",methods:[{name:"cachedResources",parameters:[]},{name:"resourceContent",parameters:[{name:"frameId"},{name:"url"},{name:"base64Encode"}]},{name:"setExtraHeaders",parameters:[{name:"headers"}]}]},{name:"Database",methods:[{name:"getDatabaseTableNames",parameters:[{name:"databaseId"}]},{name:"executeSQL",parameters:[{name:"databaseId"},{name:"query"}]}]},{name:"DOMStorage",methods:[{name:"getDOMStorageEntries",parameters:[{name:"storageId"}]},{name:"setDOMStorageItem",parameters:[{name:"storageId"},{name:"key"},{name:"value"}]},{name:"removeDOMStorageItem",parameters:[{name:"storageId"},{name:"key"}]}]},{name:"ApplicationCache",methods:[{name:"getApplicationCaches",parameters:[]}]},{name:"DOM",methods:[{name:"getChildNodes",parameters:[{name:"nodeId"}]},{name:"setAttribute",parameters:[{name:"elementId"},{name:"name"},{name:"value"}]},{name:"removeAttribute",parameters:[{name:"elementId"},{name:"name"}]},{name:"setTextNodeValue",parameters:[{name:"nodeId"},{name:"value"}]},{name:"getEventListenersForNode",parameters:[{name:"nodeId"}]},{name:"copyNode",parameters:[{name:"nodeId"}]},{name:"removeNode",parameters:[{name:"nodeId"}]},{name:"changeTagName",parameters:[{name:"nodeId"},{name:"newTagName"}]},{name:"getOuterHTML",parameters:[{name:"nodeId"}]},{name:"setOuterHTML",parameters:[{name:"nodeId"},{name:"outerHTML"}]},{name:"addInspectedNode",parameters:[{name:"nodeId"}]},{name:"performSearch",parameters:[{name:"query"},{name:"runSynchronously"}]},{name:"searchCanceled",parameters:[]},{name:"pushNodeByPathToFrontend",parameters:[{name:"path"}]},{name:"resolveNode",parameters:[{name:"nodeId"}]},{name:"getNodeProperties",parameters:[{name:"nodeId"},{name:"propertiesArray"}]},{name:"getNodePrototypes",parameters:[{name:"nodeId"}]},{name:"pushNodeToFrontend",parameters:[{name:"objectId"}]}]},{name:"CSS",methods:[{name:"getStylesForNode",parameters:[{name:"nodeId"}]},{name:"getComputedStyleForNode",parameters:[{name:"nodeId"}]},{name:"getInlineStyleForNode",parameters:[{name:"nodeId"}]},{name:"getAllStyles",parameters:[]},{name:"getStyleSheet",parameters:[{name:"styleSheetId"}]},{name:"getStyleSheetText",parameters:[{name:"styleSheetId"}]},{name:"setStyleSheetText",parameters:[{name:"styleSheetId"},{name:"text"}]},{name:"setPropertyText",parameters:[{name:"styleId"},{name:"propertyIndex"},{name:"text"},{name:"overwrite"}]},{name:"toggleProperty",parameters:[{name:"styleId"},{name:"propertyIndex"},{name:"disable"}]},{name:"setRuleSelector",parameters:[{name:"ruleId"},{name:"selector"}]},{name:"addRule",parameters:[{name:"contextNodeId"},{name:"selector"}]},{name:"getSupportedCSSProperties",parameters:[]},{name:"querySelectorAll",parameters:[{name:"documentId"},{name:"selector"}]}]},{name:"Timeline",methods:[]},{name:"Debugger",methods:[{name:"activateBreakpoints",parameters:[]},{name:"deactivateBreakpoints",parameters:[]},{name:"setJavaScriptBreakpoint",parameters:[{name:"url"},{name:"lineNumber"},{name:"columnNumber"},{name:"condition"},{name:"enabled"}]},{name:"setJavaScriptBreakpointBySourceId",parameters:[{name:"sourceId"},{name:"lineNumber"},{name:"columnNumber"},{name:"condition"},{name:"enabled"}]},{name:"removeJavaScriptBreakpoint",parameters:[{name:"breakpointId"}]},{name:"continueToLocation",parameters:[{name:"sourceId"},{name:"lineNumber"},{name:"columnNumber"}]},{name:"stepOver",parameters:[]},{name:"stepInto",parameters:[]},{name:"stepOut",parameters:[]},{name:"pause",parameters:[]},{name:"resume",parameters:[]},{name:"editScriptSource",parameters:[{name:"sourceID"},{name:"newContent"}]},{name:"getScriptSource",parameters:[{name:"sourceID"}]},{name:"setPauseOnExceptionsState",parameters:[{name:"pauseOnExceptionsState"}]},{name:"evaluateOnCallFrame",parameters:[{name:"callFrameId"},{name:"expression"},{name:"objectGroup"},{name:"includeCommandLineAPI"}]},{name:"getCompletionsOnCallFrame",parameters:[{name:"callFrameId"},{name:"expression"},{name:"includeCommandLineAPI"}]}]},{name:"BrowserDebugger",methods:[{name:"setAllBrowserBreakpoints",parameters:[{name:"breakpoints"}]},{name:"setDOMBreakpoint",parameters:[{name:"nodeId"},{name:"type"}]},{name:"removeDOMBreakpoint",parameters:[{name:"nodeId"},{name:"type"}]},{name:"setEventListenerBreakpoint",parameters:[{name:"eventName"}]},{name:"removeEventListenerBreakpoint",parameters:[{name:"eventName"}]},{name:"setXHRBreakpoint",parameters:[{name:"url"}]},{name:"removeXHRBreakpoint",parameters:[{name:"url"}]}]},{name:"Profiler",methods:[{name:"getProfileHeaders",parameters:[]},{name:"getProfile",parameters:[{name:"type"},{name:"uid"}]},{name:"removeProfile",parameters:[{name:"type"},{name:"uid"}]},{name:"clearProfiles",parameters:[]},{name:"takeHeapSnapshot",parameters:[{name:"detailed"}]}]},{name:"InspectorNotify",methods:[{parameters:[],name:"frontendReused"},{parameters:[{name:"nodeIds"}],name:"addNodesToSearchResult"},{parameters:[],name:"bringToFront"},{parameters:[],name:"disconnectFromBackend"},{parameters:[{name:"url"}],name:"inspectedURLChanged"},{parameters:[{name:"time"}],name:"domContentEventFired"},{parameters:[{name:"time"}],name:"loadEventFired"},{parameters:[],name:"reset"},{parameters:[{name:"panel"}],name:"showPanel"},{parameters:[{name:"testCallId"},{name:"script"}],name:"evaluateForTestInFrontend"},{parameters:[{name:"nodeId"}],name:"updateFocusedNode"}]},{name:"ConsoleNotify",methods:[{parameters:[{name:"messageObj"}],name:"addConsoleMessage"},{parameters:[{name:"count"}],name:"updateConsoleMessageExpiredCount"},{parameters:[{name:"count"}],name:"updateConsoleMessageRepeatCount"},{parameters:[],name:"consoleMessagesCleared"}]},{name:"NetworkNotify",methods:[{parameters:[{name:"frameId"}],name:"frameDetachedFromParent"},{parameters:[{name:"identifier"},{name:"url"},{name:"loader"},{name:"callStack"}],name:"identifierForInitialRequest"},{parameters:[{name:"identifier"},{name:"time"},{name:"request"},{name:"redirectResponse"}],name:"willSendRequest"},{parameters:[{name:"identifier"}],name:"markResourceAsCached"},{parameters:[{name:"identifier"},{name:"time"},{name:"resourceType"},{name:"response"}],name:"didReceiveResponse"},{parameters:[{name:"identifier"},{name:"time"},{name:"lengthReceived"}],name:"didReceiveContentLength"},{parameters:[{name:"identifier"},{name:"finishTime"}],name:"didFinishLoading"},{parameters:[{name:"identifier"},{name:"time"},{name:"localizedDescription"}],name:"didFailLoading"},{parameters:[{name:"time"},{name:"resource"}],name:"didLoadResourceFromMemoryCache"},{parameters:[{name:"identifier"},{name:"sourceString"},{name:"type"}],name:"setInitialContent"},{parameters:[{name:"frame"},{name:"loader"}],name:"didCommitLoadForFrame"},{parameters:[{name:"identifier"},{name:"requestURL"}],name:"didCreateWebSocket"},{parameters:[{name:"identifier"},{name:"time"},{name:"request"}],name:"willSendWebSocketHandshakeRequest"},{parameters:[{name:"identifier"},{name:"time"},{name:"response"}],name:"didReceiveWebSocketHandshakeResponse"},{parameters:[{name:"identifier"},{name:"time"}],name:"didCloseWebSocket"}]},{name:"DatabaseNotify",methods:[{parameters:[{name:"database"}],name:"addDatabase"},{parameters:[{name:"databaseId"}],name:"selectDatabase"},{parameters:[{name:"transactionId"},{name:"columnNames"},{name:"values"}],name:"sqlTransactionSucceeded"},{parameters:[{name:"transactionId"},{name:"sqlError"}],name:"sqlTransactionFailed"}]},{name:"DOMStorageNotify",methods:[{parameters:[{name:"storage"}],name:"addDOMStorage"},{parameters:[{name:"storageId"}],name:"updateDOMStorage"},{parameters:[{name:"storageId"}],name:"selectDOMStorage"}]},{name:"ApplicationCacheNotify",methods:[{parameters:[{name:"status"}],name:"updateApplicationCacheStatus"},{parameters:[{name:"isNowOnline"}],name:"updateNetworkState"}]},{name:"DOMNotify",methods:[{parameters:[{name:"root"}],name:"setDocument"},{parameters:[{name:"id"},{name:"attributes"}],name:"attributesUpdated"},{parameters:[{name:"id"},{name:"newValue"}],name:"characterDataModified"},{parameters:[{name:"parentId"},{name:"nodes"}],name:"setChildNodes"},{parameters:[{name:"root"}],name:"setDetachedRoot"},{parameters:[{name:"id"},{name:"newValue"}],name:"childNodeCountUpdated"},{parameters:[{name:"parentId"},{name:"prevId"},{name:"node"}],name:"childNodeInserted"},{parameters:[{name:"parentId"},{name:"id"}],name:"childNodeRemoved"}]},{name:"TimelineNotify",methods:[{parameters:[],name:"timelineProfilerWasStarted"},{parameters:[],name:"timelineProfilerWasStopped"},{parameters:[{name:"record"}],name:"addRecordToTimeline"}]},{name:"DebuggerNotify",methods:[{parameters:[],name:"debuggerWasEnabled"},{parameters:[],name:"debuggerWasDisabled"},{parameters:[{name:"sourceID"},{name:"url"},{name:"lineOffset"},{name:"columnOffset"},{name:"length"},{name:"scriptWorldType"}],name:"parsedScriptSource"},{parameters:[{name:"url"},{name:"data"},{name:"firstLine"},{name:"errorLine"},{name:"errorMessage"}],name:"failedToParseScriptSource"},{parameters:[{name:"breakpointId"},{name:"sourceId"},{name:"lineNumber"},{name:"columnNumber"}],name:"breakpointResolved"},{parameters:[{name:"details"}],name:"pausedScript"},{parameters:[],name:"resumedScript"},{parameters:[{name:"id"},{name:"url"},{name:"isShared"}],name:"didCreateWorker"},{parameters:[{name:"id"}],name:"didDestroyWorker"}]},{name:"ProfilerNotify",methods:[{parameters:[],name:"profilerWasEnabled"},{parameters:[],name:"profilerWasDisabled"},{parameters:[{name:"header"}],name:"addProfileHeader"},{parameters:[{name:"uid"},{name:"chunk"}],name:"addHeapSnapshotChunk"},{parameters:[{name:"uid"}],name:"finishHeapSnapshot"},{parameters:[{name:"isProfiling"}],name:"setRecordingProfile"},{parameters:[],name:"resetProfiles"},{parameters:[{name:"done"},{name:"total"}],name:"reportHeapSnapshotProgress"}]}],name:"core"},{interfaces:[{name:"InspectorFrontendHost",methods:[{name:"loaded",parameters:[]},{name:"closeWindow",parameters:[]},{name:"disconnectFromBackend",parameters:[]},{name:"bringToFront",parameters:[]},{name:"inspectedURLChanged",parameters:[{name:"newURL"}]},{name:"requestAttachWindow",parameters:[]},{name:"requestDetachWindow",parameters:[]},{name:"setAttachedWindowHeight",parameters:[{name:"height"}]},{name:"moveWindowBy",parameters:[{name:"x"},{name:"y"}]},{name:"setExtensionAPI",parameters:[{name:"script"}]},{name:"localizedStringsURL",parameters:[]},{name:"hiddenPanels",parameters:[]},{name:"copyText",parameters:[{name:"text"}]},{parameters:[],name:"platform"},{parameters:[],name:"port"},{parameters:[{name:"event"},{name:"items"}],name:"showContextMenu"},{name:"sendMessageToBackend",parameters:[{name:"message"}]}]}],name:"core"},{interfaces:[{name:"WeinreClientCommands",methods:[{name:"registerClient",parameters:[]},{name:"getTargets",parameters:[]},{name:"getClients",parameters:[]},{name:"connectTarget",parameters:[{name:"clientId"},{name:"targetId"}]},{name:"disconnectTarget",parameters:[{name:"clientId"}]},{name:"getExtensions",parameters:[]},{name:"logDebug",parameters:[{name:"message"}]},{name:"logInfo",parameters:[{name:"message"}]},{name:"logWarning",parameters:[{name:"message"}]},{name:"logError",parameters:[{name:"message"}]}]}],name:"weinre"},{interfaces:[{name:"WeinreClientEvents",methods:[{name:"clientRegistered",parameters:[{name:"client"}]},{name:"targetRegistered",parameters:[{name:"target"}]},{name:"clientUnregistered",parameters:[{name:"clientId"}]},{name:"targetUnregistered",parameters:[{name:"targetId"}]},{name:"connectionCreated",parameters:[{name:"clientId"},{name:"targetId"}]},{name:"connectionDestroyed",parameters:[{name:"clientId"},{name:"targetId"}]},{name:"sendCallback",parameters:[{name:"callbackId"},{name:"result"}]},{name:"serverProperties",parameters:[{name:"properties"}]}]}],name:"weinre"},{interfaces:[{name:"WeinreExtraClientCommands",methods:[{name:"getDatabases",parameters:[]}]}],name:"weinre"},{interfaces:[{name:"WeinreExtraTargetEvents",methods:[{name:"databaseOpened",parameters:[{name:"databaseRecord"}]}]}],name:"weinre"},{interfaces:[{name:"WeinreTargetCommands",methods:[{name:"registerTarget",parameters:[{name:"url"}]},{name:"sendClientCallback",parameters:[{name:"callbackId"},{name:"args"}]},{name:"logDebug",parameters:[{name:"message"}]},{name:"logInfo",parameters:[{name:"message"}]},{name:"logWarning",parameters:[{name:"message"}]},{name:"logError",parameters:[{name:"message"}]}]}],name:"weinre"},{interfaces:[{name:"WeinreTargetEvents",methods:[{name:"connectionCreated",parameters:[{name:"clientId"},{name:"targetId"}]},{name:"connectionDestroyed",parameters:[{name:"clientId"},{name:"targetId"}]},{name:"sendCallback",parameters:[{name:"callbackId"},{name:"result"}]}]}],name:"weinre"}]);modjewel.require("weinre/target/Target").main()})()
}
